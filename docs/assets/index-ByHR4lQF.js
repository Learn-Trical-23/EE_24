function Mm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nh={exports:{}},co={},rh={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),zm=Symbol.for("react.portal"),Fm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Hm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Gm=Symbol.for("react.memo"),Jm=Symbol.for("react.lazy"),Gu=Symbol.iterator;function Qm(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ih=Object.assign,oh={};function kr(e,t,n){this.props=e,this.context=t,this.refs=oh,this.updater=n||sh}kr.prototype.isReactComponent={};kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ah(){}ah.prototype=kr.prototype;function Fl(e,t,n){this.props=e,this.context=t,this.refs=oh,this.updater=n||sh}var Bl=Fl.prototype=new ah;Bl.constructor=Fl;ih(Bl,kr.prototype);Bl.isPureReactComponent=!0;var Ju=Array.isArray,lh=Object.prototype.hasOwnProperty,Wl={current:null},uh={key:!0,ref:!0,__self:!0,__source:!0};function ch(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)lh.call(t,r)&&!uh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ds,type:e,key:i,ref:o,props:s,_owner:Wl.current}}function Ym(e,t){return{$$typeof:Ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ds}function Xm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qu=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xm(""+e.key):t.toString(36)}function yi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ds:case zm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+zo(o,0):r,Ju(s)?(n="",e!=null&&(n=e.replace(Qu,"$&/")+"/"),yi(s,t,n,"",function(u){return u})):s!=null&&(Vl(s)&&(s=Ym(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ju(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+zo(i,a);o+=yi(i,t,n,l,s)}else if(l=Qm(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+zo(i,a++),o+=yi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ws(e,t,n){if(e==null)return e;var r=[],s=0;return yi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Zm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},wi={transition:null},eg={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:wi,ReactCurrentOwner:Wl};function dh(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Ws,forEach:function(e,t,n){Ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ws(e,function(){t++}),t},toArray:function(e){return Ws(e,function(t){return t})||[]},only:function(e){if(!Vl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=kr;F.Fragment=Fm;F.Profiler=Wm;F.PureComponent=Fl;F.StrictMode=Bm;F.Suspense=Km;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;F.act=dh;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ih({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Wl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)lh.call(t,l)&&!uh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ds,type:e.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(e){return e={$$typeof:qm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vm,_context:e},e.Consumer=e};F.createElement=ch;F.createFactory=function(e){var t=ch.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Hm,render:e}};F.isValidElement=Vl;F.lazy=function(e){return{$$typeof:Jm,_payload:{_status:-1,_result:e},_init:Zm}};F.memo=function(e,t){return{$$typeof:Gm,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};F.unstable_act=dh;F.useCallback=function(e,t){return Te.current.useCallback(e,t)};F.useContext=function(e){return Te.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};F.useEffect=function(e,t){return Te.current.useEffect(e,t)};F.useId=function(){return Te.current.useId()};F.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Te.current.useMemo(e,t)};F.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};F.useRef=function(e){return Te.current.useRef(e)};F.useState=function(e){return Te.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return Te.current.useTransition()};F.version="18.3.1";rh.exports=F;var _=rh.exports;const hh=th(_),ho=Mm({__proto__:null,default:hh},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=_,ng=Symbol.for("react.element"),rg=Symbol.for("react.fragment"),sg=Object.prototype.hasOwnProperty,ig=tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,og={key:!0,ref:!0,__self:!0,__source:!0};function fh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)sg.call(t,r)&&!og.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ng,type:e,key:i,ref:o,props:s,_owner:ig.current}}co.Fragment=rg;co.jsx=fh;co.jsxs=fh;nh.exports=co;var d=nh.exports,Ta={},ph={exports:{}},Be={},mh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var D=T.length;T.push(A);e:for(;0<D;){var U=D-1>>>1,re=T[U];if(0<s(re,A))T[U]=A,T[D]=re,D=U;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var A=T[0],D=T.pop();if(D!==A){T[0]=D;e:for(var U=0,re=T.length,At=re>>>1;U<At;){var un=2*(U+1)-1,Mo=T[un],cn=un+1,Bs=T[cn];if(0>s(Mo,D))cn<re&&0>s(Bs,Mo)?(T[U]=Bs,T[cn]=D,U=cn):(T[U]=Mo,T[un]=D,U=un);else if(cn<re&&0>s(Bs,D))T[U]=Bs,T[cn]=D,U=cn;else break e}}return A}function s(T,A){var D=T.sortIndex-A.sortIndex;return D!==0?D:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,y=!1,x=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=T)r(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(u)}}function b(T){if(w=!1,v(T),!x)if(n(l)!==null)x=!0,me(S);else{var A=n(u);A!==null&&Ce(b,A.startTime-T)}}function S(T,A){x=!1,w&&(w=!1,p(C),C=-1),y=!0;var D=m;try{for(v(A),h=n(l);h!==null&&(!(h.expirationTime>A)||T&&!W());){var U=h.callback;if(typeof U=="function"){h.callback=null,m=h.priorityLevel;var re=U(h.expirationTime<=A);A=e.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),v(A)}else r(l);h=n(l)}if(h!==null)var At=!0;else{var un=n(u);un!==null&&Ce(b,un.startTime-A),At=!1}return At}finally{h=null,m=D,y=!1}}var k=!1,E=null,C=-1,P=5,j=-1;function W(){return!(e.unstable_now()-j<P)}function M(){if(E!==null){var T=e.unstable_now();j=T;var A=!0;try{A=E(!0,T)}finally{A?xe():(k=!1,E=null)}}else k=!1}var xe;if(typeof f=="function")xe=function(){f(M)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,de=ie.port2;ie.port1.onmessage=M,xe=function(){de.postMessage(null)}}else xe=function(){g(M,0)};function me(T){E=T,k||(k=!0,xe())}function Ce(T,A){C=g(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,me(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var D=m;m=A;try{return T()}finally{m=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=m;m=T;try{return A()}finally{m=D}},e.unstable_scheduleCallback=function(T,A,D){var U=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,T){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=D+re,T={id:c++,callback:A,priorityLevel:T,startTime:D,expirationTime:re,sortIndex:-1},D>U?(T.sortIndex=D,t(u,T),n(l)===null&&T===n(u)&&(w?(p(C),C=-1):w=!0,Ce(b,D-U))):(T.sortIndex=re,t(l,T),x||y||(x=!0,me(S))),T},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(T){var A=m;return function(){var D=m;m=A;try{return T.apply(this,arguments)}finally{m=D}}}})(gh);mh.exports=gh;var ag=mh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=_,Fe=ag;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vh=new Set,as={};function Rn(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(as[e]=t,e=0;e<t.length;e++)vh.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=Object.prototype.hasOwnProperty,ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yu={},Xu={};function cg(e){return Ra.call(Xu,e)?!0:Ra.call(Yu,e)?!1:ug.test(e)?Xu[e]=!0:(Yu[e]=!0,!1)}function dg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hg(e,t,n,r){if(t===null||typeof t>"u"||dg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var ql=/[\-:]([a-z])/g;function Hl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ql,Hl);_e[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ql,Hl);_e[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ql,Hl);_e[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kl(e,t,n,r){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hg(t,n,s,r)&&(n=null),r||s===null?cg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),Gl=Symbol.for("react.strict_mode"),Pa=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),_h=Symbol.for("react.offscreen"),Zu=Symbol.iterator;function Ir(e){return e===null||typeof e!="object"?null:(e=Zu&&e[Zu]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,Fo;function qr(e){if(Fo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fo=t&&t[1]||""}return`
`+Fo+e}var Bo=!1;function Wo(e,t){if(!e||Bo)return"";Bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function fg(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=Wo(e.type,!1),e;case 11:return e=Wo(e.type.render,!1),e;case 1:return e=Wo(e.type,!0),e;default:return""}}function Ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Hn:return"Portal";case Pa:return"Profiler";case Gl:return"StrictMode";case Oa:return"Suspense";case Aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wh:return(e.displayName||"Context")+".Consumer";case yh:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ql:return t=e.displayName||null,t!==null?t:Ia(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Ia(e(t))}catch{}}return null}function pg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(t);case 8:return t===Gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mg(e){var t=xh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=mg(e))}function bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function La(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ec(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sh(e,t){t=t.checked,t!=null&&Kl(e,"checked",t,!1)}function Da(e,t){Sh(e,t);var n=rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$a(e,t.type,n):t.hasOwnProperty("defaultValue")&&$a(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $a(e,t,n){(t!=="number"||Oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hr=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Hr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rn(n)}}function kh(e,t){var n=rn(t.value),r=rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Eh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Eh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hs,Ch=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ls(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gg=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){gg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qr[t]=Qr[e]})});function Nh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+t).trim():t+"px"}function jh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var vg=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(e,t){if(t){if(vg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,ar=null,lr=null;function sc(e){if(e=Ms(e)){if(typeof Wa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=vo(t),Wa(e.stateNode,e.type,t))}}function Th(e){ar?lr?lr.push(e):lr=[e]:ar=e}function Rh(){if(ar){var e=ar,t=lr;if(lr=ar=null,sc(e),t)for(e=0;e<t.length;e++)sc(t[e])}}function Ph(e,t){return e(t)}function Oh(){}var Vo=!1;function Ah(e,t,n){if(Vo)return e(t,n);Vo=!0;try{return Ph(e,t,n)}finally{Vo=!1,(ar!==null||lr!==null)&&(Oh(),Rh())}}function us(e,t){var n=e.stateNode;if(n===null)return null;var r=vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Va=!1;if(kt)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Va=!1}function yg(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Yr=!1,Ai=null,Ii=!1,qa=null,wg={onError:function(e){Yr=!0,Ai=e}};function _g(e,t,n,r,s,i,o,a,l){Yr=!1,Ai=null,yg.apply(wg,arguments)}function xg(e,t,n,r,s,i,o,a,l){if(_g.apply(this,arguments),Yr){if(Yr){var u=Ai;Yr=!1,Ai=null}else throw Error(N(198));Ii||(Ii=!0,qa=u)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ic(e){if(Pn(e)!==e)throw Error(N(188))}function bg(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ic(s),e;if(i===r)return ic(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Lh(e){return e=bg(e),e!==null?Dh(e):null}function Dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dh(e);if(t!==null)return t;e=e.sibling}return null}var $h=Fe.unstable_scheduleCallback,oc=Fe.unstable_cancelCallback,Sg=Fe.unstable_shouldYield,kg=Fe.unstable_requestPaint,se=Fe.unstable_now,Eg=Fe.unstable_getCurrentPriorityLevel,Xl=Fe.unstable_ImmediatePriority,Uh=Fe.unstable_UserBlockingPriority,Li=Fe.unstable_NormalPriority,Cg=Fe.unstable_LowPriority,Mh=Fe.unstable_IdlePriority,fo=null,ft=null;function Ng(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Rg,jg=Math.log,Tg=Math.LN2;function Rg(e){return e>>>=0,e===0?32:31-(jg(e)/Tg|0)|0}var Ks=64,Gs=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Kr(a):(i&=o,i!==0&&(r=Kr(i)))}else o=n&~s,o!==0?r=Kr(o):i!==0&&(r=Kr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),s=1<<n,r|=e[n],t&=~s;return r}function Pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Pg(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zh(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $s(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Ag(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Zl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var V=0;function Fh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bh,eu,Wh,Vh,qh,Ka=!1,Js=[],Kt=null,Gt=null,Jt=null,cs=new Map,ds=new Map,Ft=[],Ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function Dr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ms(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lg(e,t,n,r,s){switch(t){case"focusin":return Kt=Dr(Kt,e,t,n,r,s),!0;case"dragenter":return Gt=Dr(Gt,e,t,n,r,s),!0;case"mouseover":return Jt=Dr(Jt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return cs.set(i,Dr(cs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ds.set(i,Dr(ds.get(i)||null,e,t,n,r,s)),!0}return!1}function Hh(e){var t=yn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ih(n),t!==null){e.blockedOn=t,qh(e.priority,function(){Wh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ba=r,n.target.dispatchEvent(r),Ba=null}else return t=Ms(n),t!==null&&eu(t),e.blockedOn=n,!1;t.shift()}return!0}function lc(e,t,n){_i(e)&&n.delete(t)}function Dg(){Ka=!1,Kt!==null&&_i(Kt)&&(Kt=null),Gt!==null&&_i(Gt)&&(Gt=null),Jt!==null&&_i(Jt)&&(Jt=null),cs.forEach(lc),ds.forEach(lc)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,Ka||(Ka=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Dg)))}function hs(e){function t(s){return $r(s,e)}if(0<Js.length){$r(Js[0],e);for(var n=1;n<Js.length;n++){var r=Js[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kt!==null&&$r(Kt,e),Gt!==null&&$r(Gt,e),Jt!==null&&$r(Jt,e),cs.forEach(t),ds.forEach(t),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&Ft.shift()}var ur=jt.ReactCurrentBatchConfig,$i=!0;function $g(e,t,n,r){var s=V,i=ur.transition;ur.transition=null;try{V=1,tu(e,t,n,r)}finally{V=s,ur.transition=i}}function Ug(e,t,n,r){var s=V,i=ur.transition;ur.transition=null;try{V=4,tu(e,t,n,r)}finally{V=s,ur.transition=i}}function tu(e,t,n,r){if($i){var s=Ga(e,t,n,r);if(s===null)ta(e,t,r,Ui,n),ac(e,r);else if(Lg(s,e,t,n,r))r.stopPropagation();else if(ac(e,r),t&4&&-1<Ig.indexOf(e)){for(;s!==null;){var i=Ms(s);if(i!==null&&Bh(i),i=Ga(e,t,n,r),i===null&&ta(e,t,r,Ui,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ta(e,t,r,null,n)}}var Ui=null;function Ga(e,t,n,r){if(Ui=null,e=Yl(r),e=yn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ih(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function Kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eg()){case Xl:return 1;case Uh:return 4;case Li:case Cg:return 16;case Mh:return 536870912;default:return 16}default:return 16}}var Vt=null,nu=null,xi=null;function Gh(){if(xi)return xi;var e,t=nu,n=t.length,r,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return xi=s.slice(e,1<r?1-r:void 0)}function bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function uc(){return!1}function We(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qs:uc,this.isPropagationStopped=uc,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=We(Er),Us=ee({},Er,{view:0,detail:0}),Mg=We(Us),Ho,Ko,Ur,po=ee({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Ho=e.screenX-Ur.screenX,Ko=e.screenY-Ur.screenY):Ko=Ho=0,Ur=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),cc=We(po),zg=ee({},po,{dataTransfer:0}),Fg=We(zg),Bg=ee({},Us,{relatedTarget:0}),Go=We(Bg),Wg=ee({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Vg=We(Wg),qg=ee({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hg=We(qg),Kg=ee({},Er,{data:0}),dc=We(Kg),Gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qg[e])?!!t[e]:!1}function su(){return Yg}var Xg=ee({},Us,{key:function(e){if(e.key){var t=Gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zg=We(Xg),ev=ee({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=We(ev),tv=ee({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),nv=We(tv),rv=ee({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=We(rv),iv=ee({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=We(iv),av=[9,13,27,32],iu=kt&&"CompositionEvent"in window,Xr=null;kt&&"documentMode"in document&&(Xr=document.documentMode);var lv=kt&&"TextEvent"in window&&!Xr,Jh=kt&&(!iu||Xr&&8<Xr&&11>=Xr),fc=" ",pc=!1;function Qh(e,t){switch(e){case"keyup":return av.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function uv(e,t){switch(e){case"compositionend":return Yh(t);case"keypress":return t.which!==32?null:(pc=!0,fc);case"textInput":return e=t.data,e===fc&&pc?null:e;default:return null}}function cv(e,t){if(Gn)return e==="compositionend"||!iu&&Qh(e,t)?(e=Gh(),xi=nu=Vt=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jh&&t.locale!=="ko"?null:t.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dv[e.type]:t==="textarea"}function Xh(e,t,n,r){Th(r),t=Mi(t,"onChange"),0<t.length&&(n=new ru("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zr=null,fs=null;function hv(e){cf(e,0)}function mo(e){var t=Yn(e);if(bh(t))return e}function fv(e,t){if(e==="change")return t}var Zh=!1;if(kt){var Jo;if(kt){var Qo="oninput"in document;if(!Qo){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),Qo=typeof gc.oninput=="function"}Jo=Qo}else Jo=!1;Zh=Jo&&(!document.documentMode||9<document.documentMode)}function vc(){Zr&&(Zr.detachEvent("onpropertychange",ef),fs=Zr=null)}function ef(e){if(e.propertyName==="value"&&mo(fs)){var t=[];Xh(t,fs,e,Yl(e)),Ah(hv,t)}}function pv(e,t,n){e==="focusin"?(vc(),Zr=t,fs=n,Zr.attachEvent("onpropertychange",ef)):e==="focusout"&&vc()}function mv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mo(fs)}function gv(e,t){if(e==="click")return mo(t)}function vv(e,t){if(e==="input"||e==="change")return mo(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:yv;function ps(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ra.call(t,s)||!it(e[s],t[s]))return!1}return!0}function yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,t){var n=yc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yc(n)}}function tf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nf(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oi(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wv(e){var t=nf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tf(n.ownerDocument.documentElement,n)){if(r!==null&&ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=wc(n,i);var o=wc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _v=kt&&"documentMode"in document&&11>=document.documentMode,Jn=null,Ja=null,es=null,Qa=!1;function _c(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qa||Jn==null||Jn!==Oi(r)||(r=Jn,"selectionStart"in r&&ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),es&&ps(es,r)||(es=r,r=Mi(Ja,"onSelect"),0<r.length&&(t=new ru("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jn)))}function Ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Yo={},rf={};kt&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function go(e){if(Yo[e])return Yo[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rf)return Yo[e]=t[n];return e}var sf=go("animationend"),of=go("animationiteration"),af=go("animationstart"),lf=go("transitionend"),uf=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){uf.set(e,t),Rn(t,[e])}for(var Xo=0;Xo<xc.length;Xo++){var Zo=xc[Xo],xv=Zo.toLowerCase(),bv=Zo[0].toUpperCase()+Zo.slice(1);on(xv,"on"+bv)}on(sf,"onAnimationEnd");on(of,"onAnimationIteration");on(af,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(lf,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function bc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xg(r,t,void 0,e),e.currentTarget=null}function cf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;bc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;bc(s,a,u),i=l}}}if(Ii)throw e=qa,Ii=!1,qa=null,e}function G(e,t){var n=t[tl];n===void 0&&(n=t[tl]=new Set);var r=e+"__bubble";n.has(r)||(df(t,e,2,!1),n.add(r))}function ea(e,t,n){var r=0;t&&(r|=4),df(n,e,r,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[Xs]){e[Xs]=!0,vh.forEach(function(n){n!=="selectionchange"&&(Sv.has(n)||ea(n,!1,e),ea(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,ea("selectionchange",!1,t))}}function df(e,t,n,r){switch(Kh(t)){case 1:var s=$g;break;case 4:s=Ug;break;default:s=tu}n=s.bind(null,t,n,e),s=void 0,!Va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ta(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=yn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ah(function(){var u=i,c=Yl(n),h=[];e:{var m=uf.get(e);if(m!==void 0){var y=ru,x=e;switch(e){case"keypress":if(bi(n)===0)break e;case"keydown":case"keyup":y=Zg;break;case"focusin":x="focus",y=Go;break;case"focusout":x="blur",y=Go;break;case"beforeblur":case"afterblur":y=Go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=nv;break;case sf:case of:case af:y=Vg;break;case lf:y=sv;break;case"scroll":y=Mg;break;case"wheel":y=ov;break;case"copy":case"cut":case"paste":y=Hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=hc}var w=(t&4)!==0,g=!w&&e==="scroll",p=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,v;f!==null;){v=f;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,p!==null&&(b=us(f,p),b!=null&&w.push(gs(f,b,v)))),g)break;f=f.return}0<w.length&&(m=new y(m,x,null,n,c),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Ba&&(x=n.relatedTarget||n.fromElement)&&(yn(x)||x[Et]))break e;if((y||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?yn(x):null,x!==null&&(g=Pn(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=cc,b="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=hc,b="onPointerLeave",p="onPointerEnter",f="pointer"),g=y==null?m:Yn(y),v=x==null?m:Yn(x),m=new w(b,f+"leave",y,n,c),m.target=g,m.relatedTarget=v,b=null,yn(c)===u&&(w=new w(p,f+"enter",x,n,c),w.target=v,w.relatedTarget=g,b=w),g=b,y&&x)t:{for(w=y,p=x,f=0,v=w;v;v=An(v))f++;for(v=0,b=p;b;b=An(b))v++;for(;0<f-v;)w=An(w),f--;for(;0<v-f;)p=An(p),v--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=An(w),p=An(p)}w=null}else w=null;y!==null&&Sc(h,m,y,w,!1),x!==null&&g!==null&&Sc(h,g,x,w,!0)}}e:{if(m=u?Yn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var S=fv;else if(mc(m))if(Zh)S=vv;else{S=mv;var k=pv}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=gv);if(S&&(S=S(e,u))){Xh(h,S,n,c);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&$a(m,"number",m.value)}switch(k=u?Yn(u):window,e){case"focusin":(mc(k)||k.contentEditable==="true")&&(Jn=k,Ja=u,es=null);break;case"focusout":es=Ja=Jn=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,_c(h,n,c);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":_c(h,n,c)}var E;if(iu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gn?Qh(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Jh&&n.locale!=="ko"&&(Gn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gn&&(E=Gh()):(Vt=c,nu="value"in Vt?Vt.value:Vt.textContent,Gn=!0)),k=Mi(u,C),0<k.length&&(C=new dc(C,e,null,n,c),h.push({event:C,listeners:k}),E?C.data=E:(E=Yh(n),E!==null&&(C.data=E)))),(E=lv?uv(e,n):cv(e,n))&&(u=Mi(u,"onBeforeInput"),0<u.length&&(c=new dc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}cf(h,t)})}function gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=us(e,n),i!=null&&r.unshift(gs(e,i,s)),i=us(e,t),i!=null&&r.push(gs(e,i,s))),e=e.return}return r}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=us(n,i),l!=null&&o.unshift(gs(n,l,a))):s||(l=us(n,i),l!=null&&o.push(gs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function kc(e){return(typeof e=="string"?e:""+e).replace(kv,`
`).replace(Ev,"")}function Zs(e,t,n){if(t=kc(t),kc(e)!==t&&n)throw Error(N(425))}function zi(){}var Ya=null,Xa=null;function Za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(jv)}:el;function jv(e){setTimeout(function(){throw e})}function na(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),hs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hs(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),dt="__reactFiber$"+Cr,vs="__reactProps$"+Cr,Et="__reactContainer$"+Cr,tl="__reactEvents$"+Cr,Tv="__reactListeners$"+Cr,Rv="__reactHandles$"+Cr;function yn(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cc(e);e!==null;){if(n=e[dt])return n;e=Cc(e)}return t}e=n,n=e.parentNode}return null}function Ms(e){return e=e[dt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function vo(e){return e[vs]||null}var nl=[],Xn=-1;function an(e){return{current:e}}function J(e){0>Xn||(e.current=nl[Xn],nl[Xn]=null,Xn--)}function H(e,t){Xn++,nl[Xn]=e.current,e.current=t}var sn={},Ee=an(sn),Ae=an(!1),kn=sn;function vr(e,t){var n=e.type.contextTypes;if(!n)return sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function Fi(){J(Ae),J(Ee)}function Nc(e,t,n){if(Ee.current!==sn)throw Error(N(168));H(Ee,t),H(Ae,n)}function hf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,pg(e)||"Unknown",s));return ee({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,kn=Ee.current,H(Ee,e),H(Ae,Ae.current),!0}function jc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=hf(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,J(Ae),J(Ee),H(Ee,e)):J(Ae),H(Ae,n)}var wt=null,yo=!1,ra=!1;function ff(e){wt===null?wt=[e]:wt.push(e)}function Pv(e){yo=!0,ff(e)}function ln(){if(!ra&&wt!==null){ra=!0;var e=0,t=V;try{var n=wt;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,yo=!1}catch(s){throw wt!==null&&(wt=wt.slice(e+1)),$h(Xl,ln),s}finally{V=t,ra=!1}}return null}var Zn=[],er=0,Wi=null,Vi=0,Ve=[],qe=0,En=null,_t=1,xt="";function fn(e,t){Zn[er++]=Vi,Zn[er++]=Wi,Wi=e,Vi=t}function pf(e,t,n){Ve[qe++]=_t,Ve[qe++]=xt,Ve[qe++]=En,En=e;var r=_t;e=xt;var s=32-rt(r)-1;r&=~(1<<s),n+=1;var i=32-rt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-rt(t)+s|n<<s|r,xt=i+e}else _t=1<<i|n<<s|r,xt=e}function au(e){e.return!==null&&(fn(e,1),pf(e,1,0))}function lu(e){for(;e===Wi;)Wi=Zn[--er],Zn[er]=null,Vi=Zn[--er],Zn[er]=null;for(;e===En;)En=Ve[--qe],Ve[qe]=null,xt=Ve[--qe],Ve[qe]=null,_t=Ve[--qe],Ve[qe]=null}var ze=null,Me=null,Q=!1,nt=null;function mf(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Me=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=En!==null?{id:_t,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ze=e,Me=null,!0):!1;default:return!1}}function rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sl(e){if(Q){var t=Me;if(t){var n=t;if(!Tc(e,t)){if(rl(e))throw Error(N(418));t=Qt(n.nextSibling);var r=ze;t&&Tc(e,t)?mf(r,n):(e.flags=e.flags&-4097|2,Q=!1,ze=e)}}else{if(rl(e))throw Error(N(418));e.flags=e.flags&-4097|2,Q=!1,ze=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function ei(e){if(e!==ze)return!1;if(!Q)return Rc(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Za(e.type,e.memoizedProps)),t&&(t=Me)){if(rl(e))throw gf(),Error(N(418));for(;t;)mf(e,t),t=Qt(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Me=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=ze?Qt(e.stateNode.nextSibling):null;return!0}function gf(){for(var e=Me;e;)e=Qt(e.nextSibling)}function yr(){Me=ze=null,Q=!1}function uu(e){nt===null?nt=[e]:nt.push(e)}var Ov=jt.ReactCurrentBatchConfig;function Mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function ti(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function vf(e){function t(p,f){if(e){var v=p.deletions;v===null?(p.deletions=[f],p.flags|=16):v.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=en(p,f),p.index=0,p.sibling=null,p}function i(p,f,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<f?(p.flags|=2,f):v):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,v,b){return f===null||f.tag!==6?(f=ca(v,p.mode,b),f.return=p,f):(f=s(f,v),f.return=p,f)}function l(p,f,v,b){var S=v.type;return S===Kn?c(p,f,v.props.children,b,v.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Pc(S)===f.type)?(b=s(f,v.props),b.ref=Mr(p,f,v),b.return=p,b):(b=Ti(v.type,v.key,v.props,null,p.mode,b),b.ref=Mr(p,f,v),b.return=p,b)}function u(p,f,v,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=da(v,p.mode,b),f.return=p,f):(f=s(f,v.children||[]),f.return=p,f)}function c(p,f,v,b,S){return f===null||f.tag!==7?(f=Sn(v,p.mode,b,S),f.return=p,f):(f=s(f,v),f.return=p,f)}function h(p,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ca(""+f,p.mode,v),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Vs:return v=Ti(f.type,f.key,f.props,null,p.mode,v),v.ref=Mr(p,null,f),v.return=p,v;case Hn:return f=da(f,p.mode,v),f.return=p,f;case Ut:var b=f._init;return h(p,b(f._payload),v)}if(Hr(f)||Ir(f))return f=Sn(f,p.mode,v,null),f.return=p,f;ti(p,f)}return null}function m(p,f,v,b){var S=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(p,f,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vs:return v.key===S?l(p,f,v,b):null;case Hn:return v.key===S?u(p,f,v,b):null;case Ut:return S=v._init,m(p,f,S(v._payload),b)}if(Hr(v)||Ir(v))return S!==null?null:c(p,f,v,b,null);ti(p,v)}return null}function y(p,f,v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(v)||null,a(f,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:return p=p.get(b.key===null?v:b.key)||null,l(f,p,b,S);case Hn:return p=p.get(b.key===null?v:b.key)||null,u(f,p,b,S);case Ut:var k=b._init;return y(p,f,v,k(b._payload),S)}if(Hr(b)||Ir(b))return p=p.get(v)||null,c(f,p,b,S,null);ti(f,b)}return null}function x(p,f,v,b){for(var S=null,k=null,E=f,C=f=0,P=null;E!==null&&C<v.length;C++){E.index>C?(P=E,E=null):P=E.sibling;var j=m(p,E,v[C],b);if(j===null){E===null&&(E=P);break}e&&E&&j.alternate===null&&t(p,E),f=i(j,f,C),k===null?S=j:k.sibling=j,k=j,E=P}if(C===v.length)return n(p,E),Q&&fn(p,C),S;if(E===null){for(;C<v.length;C++)E=h(p,v[C],b),E!==null&&(f=i(E,f,C),k===null?S=E:k.sibling=E,k=E);return Q&&fn(p,C),S}for(E=r(p,E);C<v.length;C++)P=y(E,p,C,v[C],b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),f=i(P,f,C),k===null?S=P:k.sibling=P,k=P);return e&&E.forEach(function(W){return t(p,W)}),Q&&fn(p,C),S}function w(p,f,v,b){var S=Ir(v);if(typeof S!="function")throw Error(N(150));if(v=S.call(v),v==null)throw Error(N(151));for(var k=S=null,E=f,C=f=0,P=null,j=v.next();E!==null&&!j.done;C++,j=v.next()){E.index>C?(P=E,E=null):P=E.sibling;var W=m(p,E,j.value,b);if(W===null){E===null&&(E=P);break}e&&E&&W.alternate===null&&t(p,E),f=i(W,f,C),k===null?S=W:k.sibling=W,k=W,E=P}if(j.done)return n(p,E),Q&&fn(p,C),S;if(E===null){for(;!j.done;C++,j=v.next())j=h(p,j.value,b),j!==null&&(f=i(j,f,C),k===null?S=j:k.sibling=j,k=j);return Q&&fn(p,C),S}for(E=r(p,E);!j.done;C++,j=v.next())j=y(E,p,C,j.value,b),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?C:j.key),f=i(j,f,C),k===null?S=j:k.sibling=j,k=j);return e&&E.forEach(function(M){return t(p,M)}),Q&&fn(p,C),S}function g(p,f,v,b){if(typeof v=="object"&&v!==null&&v.type===Kn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Vs:e:{for(var S=v.key,k=f;k!==null;){if(k.key===S){if(S=v.type,S===Kn){if(k.tag===7){n(p,k.sibling),f=s(k,v.props.children),f.return=p,p=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Pc(S)===k.type){n(p,k.sibling),f=s(k,v.props),f.ref=Mr(p,k,v),f.return=p,p=f;break e}n(p,k);break}else t(p,k);k=k.sibling}v.type===Kn?(f=Sn(v.props.children,p.mode,b,v.key),f.return=p,p=f):(b=Ti(v.type,v.key,v.props,null,p.mode,b),b.ref=Mr(p,f,v),b.return=p,p=b)}return o(p);case Hn:e:{for(k=v.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(p,f.sibling),f=s(f,v.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=da(v,p.mode,b),f.return=p,p=f}return o(p);case Ut:return k=v._init,g(p,f,k(v._payload),b)}if(Hr(v))return x(p,f,v,b);if(Ir(v))return w(p,f,v,b);ti(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,v),f.return=p,p=f):(n(p,f),f=ca(v,p.mode,b),f.return=p,p=f),o(p)):n(p,f)}return g}var wr=vf(!0),yf=vf(!1),qi=an(null),Hi=null,tr=null,cu=null;function du(){cu=tr=Hi=null}function hu(e){var t=qi.current;J(qi),e._currentValue=t}function il(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){Hi=e,cu=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(cu!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(Hi===null)throw Error(N(308));tr=e,Hi.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var wn=null;function fu(e){wn===null?wn=[e]:wn.push(e)}function wf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,fu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ct(e,r)}function Ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mt=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ct(e,n)}return s=r.interleaved,s===null?(t.next=t,fu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ct(e,n)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zl(e,n)}}function Oc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var s=e.updateQueue;Mt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,w=a;switch(m=t,y=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(y,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(y,h,m):x,m==null)break e;h=ee({},h,m);break e;case 2:Mt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=h}}function Ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var zs={},pt=an(zs),ys=an(zs),ws=an(zs);function _n(e){if(e===zs)throw Error(N(174));return e}function mu(e,t){switch(H(ws,t),H(ys,e),H(pt,zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}J(pt),H(pt,t)}function _r(){J(pt),J(ys),J(ws)}function xf(e){_n(ws.current);var t=_n(pt.current),n=Ma(t,e.type);t!==n&&(H(ys,e),H(pt,n))}function gu(e){ys.current===e&&(J(pt),J(ys))}var Y=an(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function vu(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var ki=jt.ReactCurrentDispatcher,ia=jt.ReactCurrentBatchConfig,Cn=0,X=null,ue=null,he=null,Ji=!1,ts=!1,_s=0,Av=0;function be(){throw Error(N(321))}function yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!it(e[n],t[n]))return!1;return!0}function wu(e,t,n,r,s,i){if(Cn=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?$v:Uv,e=n(r,s),ts){i=0;do{if(ts=!1,_s=0,25<=i)throw Error(N(301));i+=1,he=ue=null,t.updateQueue=null,ki.current=Mv,e=n(r,s)}while(ts)}if(ki.current=Qi,t=ue!==null&&ue.next!==null,Cn=0,he=ue=X=null,Ji=!1,t)throw Error(N(300));return e}function _u(){var e=_s!==0;return _s=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?X.memoizedState=he=e:he=he.next=e,he}function Je(){if(ue===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?X.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?X.memoizedState=he=e:he=he.next=e}return he}function xs(e,t){return typeof t=="function"?t(e):t}function oa(e){var t=Je(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Cn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,X.lanes|=c,Nn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,it(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,Nn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aa(e){var t=Je(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);it(i,t.memoizedState)||(Oe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function bf(){}function Sf(e,t){var n=X,r=Je(),s=t(),i=!it(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,xu(Cf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,bs(9,Ef.bind(null,n,r,s,t),void 0,null),pe===null)throw Error(N(349));Cn&30||kf(n,t,s)}return s}function kf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ef(e,t,n,r){t.value=n,t.getSnapshot=r,Nf(t)&&jf(e)}function Cf(e,t,n){return n(function(){Nf(t)&&jf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!it(e,n)}catch{return!0}}function jf(e){var t=Ct(e,1);t!==null&&st(t,e,1,-1)}function Ic(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Dv.bind(null,X,e),[t.memoizedState,e]}function bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tf(){return Je().memoizedState}function Ei(e,t,n,r){var s=ct();X.flags|=e,s.memoizedState=bs(1|t,n,void 0,r===void 0?null:r)}function wo(e,t,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&yu(r,o.deps)){s.memoizedState=bs(t,n,i,r);return}}X.flags|=e,s.memoizedState=bs(1|t,n,i,r)}function Lc(e,t){return Ei(8390656,8,e,t)}function xu(e,t){return wo(2048,8,e,t)}function Rf(e,t){return wo(4,2,e,t)}function Pf(e,t){return wo(4,4,e,t)}function Of(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Af(e,t,n){return n=n!=null?n.concat([e]):null,wo(4,4,Of.bind(null,t,e),n)}function bu(){}function If(e,t){var n=Je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lf(e,t){var n=Je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Df(e,t,n){return Cn&21?(it(n,t)||(n=zh(),X.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function Iv(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{V=n,ia.transition=r}}function $f(){return Je().memoizedState}function Lv(e,t,n){var r=Zt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uf(e))Mf(t,n);else if(n=wf(e,t,n,r),n!==null){var s=je();st(n,e,r,s),zf(n,t,r)}}function Dv(e,t,n){var r=Zt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uf(e))Mf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,it(a,o)){var l=t.interleaved;l===null?(s.next=s,fu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=wf(e,t,s,r),n!==null&&(s=je(),st(n,e,r,s),zf(n,t,r))}}function Uf(e){var t=e.alternate;return e===X||t!==null&&t===X}function Mf(e,t){ts=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zl(e,n)}}var Qi={readContext:Ge,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},$v={readContext:Ge,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Lc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4194308,4,Of.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var n=ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lv.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:bu,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=Iv.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,s=ct();if(Q){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),pe===null)throw Error(N(349));Cn&30||kf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Lc(Cf.bind(null,r,i,e),[e]),r.flags|=2048,bs(9,Ef.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ct(),t=pe.identifierPrefix;if(Q){var n=xt,r=_t;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_s++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Av++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uv={readContext:Ge,useCallback:If,useContext:Ge,useEffect:xu,useImperativeHandle:Af,useInsertionEffect:Rf,useLayoutEffect:Pf,useMemo:Lf,useReducer:oa,useRef:Tf,useState:function(){return oa(xs)},useDebugValue:bu,useDeferredValue:function(e){var t=Je();return Df(t,ue.memoizedState,e)},useTransition:function(){var e=oa(xs)[0],t=Je().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:Sf,useId:$f,unstable_isNewReconciler:!1},Mv={readContext:Ge,useCallback:If,useContext:Ge,useEffect:xu,useImperativeHandle:Af,useInsertionEffect:Rf,useLayoutEffect:Pf,useMemo:Lf,useReducer:aa,useRef:Tf,useState:function(){return aa(xs)},useDebugValue:bu,useDeferredValue:function(e){var t=Je();return ue===null?t.memoizedState=e:Df(t,ue.memoizedState,e)},useTransition:function(){var e=aa(xs)[0],t=Je().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:Sf,useId:$f,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ol(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _o={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),s=Zt(e),i=bt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,s),t!==null&&(st(t,e,s,r),Si(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),s=Zt(e),i=bt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,s),t!==null&&(st(t,e,s,r),Si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=Zt(e),s=bt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,r),t!==null&&(st(t,e,r,n),Si(t,e,r))}};function Dc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(n,r)||!ps(s,i):!0}function Ff(e,t,n){var r=!1,s=sn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Ie(t)?kn:Ee.current,r=t.contextTypes,i=(r=r!=null)?vr(e,s):sn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_o,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $c(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function al(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},pu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Ie(t)?kn:Ee.current,s.context=vr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ol(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_o.enqueueReplaceState(s,s.state,null),Ki(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=fg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function la(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ll(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Bf(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xi||(Xi=!0,yl=r),ll(e,t)},n}function Wf(e,t,n){n=bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ll(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ll(e,t),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Uc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ey.bind(null,e,t,n),t.then(e,e))}function Mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var Fv=jt.ReactCurrentOwner,Oe=!1;function Ne(e,t,n,r){t.child=e===null?yf(t,null,n,r):wr(t,e.child,n,r)}function Fc(e,t,n,r,s){n=n.render;var i=t.ref;return cr(t,s),r=wu(e,t,n,r,i,s),n=_u(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(Q&&n&&au(t),t.flags|=1,Ne(e,t,r,s),t.child)}function Bc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ru(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Vf(e,t,i,r,s)):(e=Ti(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(o,r)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=en(i,r),e.ref=t.ref,e.return=t,t.child=e}function Vf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ps(i,r)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return ul(e,t,n,r,s)}function qf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(rr,$e),$e|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(rr,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,H(rr,$e),$e|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,H(rr,$e),$e|=r;return Ne(e,t,s,n),t.child}function Hf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ul(e,t,n,r,s){var i=Ie(n)?kn:Ee.current;return i=vr(t,i),cr(t,s),n=wu(e,t,n,r,i,s),r=_u(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(Q&&r&&au(t),t.flags|=1,Ne(e,t,n,s),t.child)}function Wc(e,t,n,r,s){if(Ie(n)){var i=!0;Bi(t)}else i=!1;if(cr(t,s),t.stateNode===null)Ci(e,t),Ff(t,n,r),al(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Ie(n)?kn:Ee.current,u=vr(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$c(t,o,r,u),Mt=!1;var m=t.memoizedState;o.state=m,Ki(t,r,o,s),l=t.memoizedState,a!==r||m!==l||Ae.current||Mt?(typeof c=="function"&&(ol(t,n,c,r),l=t.memoizedState),(a=Mt||Dc(t,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_f(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Xe(t.type,a),o.props=u,h=t.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ge(l):(l=Ie(n)?kn:Ee.current,l=vr(t,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&$c(t,o,r,l),Mt=!1,m=t.memoizedState,o.state=m,Ki(t,r,o,s);var x=t.memoizedState;a!==h||m!==x||Ae.current||Mt?(typeof y=="function"&&(ol(t,n,y,r),x=t.memoizedState),(u=Mt||Dc(t,n,u,r,m,x,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return cl(e,t,n,r,i,s)}function cl(e,t,n,r,s,i){Hf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&jc(t,n,!1),Nt(e,t,i);r=t.stateNode,Fv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wr(t,e.child,null,i),t.child=wr(t,null,a,i)):Ne(e,t,a,i),t.memoizedState=r.state,s&&jc(t,n,!0),t.child}function Kf(e){var t=e.stateNode;t.pendingContext?Nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nc(e,t.context,!1),mu(e,t.containerInfo)}function Vc(e,t,n,r,s){return yr(),uu(s),t.flags|=256,Ne(e,t,n,r),t.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,t,n){var r=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(Y,s&1),e===null)return sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=So(o,r,0,null),e=Sn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hl(n),t.memoizedState=dl,e):Su(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bv(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=en(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=en(a,i):(i=Sn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?hl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=dl,r}return i=e.child,e=i.sibling,r=en(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=So({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ni(e,t,n,r){return r!==null&&uu(r),wr(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=la(Error(N(422))),ni(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=So({mode:"visible",children:r.children},s,0,null),i=Sn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&wr(t,e.child,null,o),t.child.memoizedState=hl(o),t.memoizedState=dl,i);if(!(t.mode&1))return ni(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=la(i,r,void 0),ni(e,t,o,r)}if(a=(o&e.childLanes)!==0,Oe||a){if(r=pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ct(e,s),st(r,e,s,-1))}return Tu(),r=la(Error(N(421))),ni(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ty.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=Qt(s.nextSibling),ze=t,Q=!0,nt=null,e!==null&&(Ve[qe++]=_t,Ve[qe++]=xt,Ve[qe++]=En,_t=e.id,xt=e.overflow,En=t),t=Su(t,r.children),t.flags|=4096,t)}function qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),il(e.return,t,n)}function ua(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(e,t,r.children,n),r=Y.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qc(e,n,t);else if(e.tag===19)qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(Y,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ua(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ua(t,!0,n,null,i);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wv(e,t,n){switch(t.tag){case 3:Kf(t),yr();break;case 5:xf(t);break;case 1:Ie(t.type)&&Bi(t);break;case 4:mu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;H(qi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?Gf(e,t,n):(H(Y,Y.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);H(Y,Y.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Y,Y.current),r)break;return null;case 22:case 23:return t.lanes=0,qf(e,t,n)}return Nt(e,t,n)}var Qf,fl,Yf,Xf;Qf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fl=function(){};Yf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,_n(pt.current);var i=null;switch(n){case"input":s=La(e,s),r=La(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Ua(e,s),r=Ua(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zi)}za(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&G("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function zr(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vv(e,t,n){var r=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ie(t.type)&&Fi(),Se(t),null;case 3:return r=t.stateNode,_r(),J(Ae),J(Ee),vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(xl(nt),nt=null))),fl(e,t),Se(t),null;case 5:gu(t);var s=_n(ws.current);if(n=t.type,e!==null&&t.stateNode!=null)Yf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Se(t),null}if(e=_n(pt.current),ei(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[dt]=t,r[vs]=i,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<Gr.length;s++)G(Gr[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":ec(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":nc(r,i),G("invalid",r)}za(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zs(r.textContent,a,e),s=["children",""+a]):as.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":qs(r),tc(r,i,!0);break;case"textarea":qs(r),rc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Eh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[dt]=t,e[vs]=r,Qf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fa(n,r),n){case"dialog":G("cancel",e),G("close",e),s=r;break;case"iframe":case"object":case"embed":G("load",e),s=r;break;case"video":case"audio":for(s=0;s<Gr.length;s++)G(Gr[s],e);s=r;break;case"source":G("error",e),s=r;break;case"img":case"image":case"link":G("error",e),G("load",e),s=r;break;case"details":G("toggle",e),s=r;break;case"input":ec(e,r),s=La(e,r),G("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),G("invalid",e);break;case"textarea":nc(e,r),s=Ua(e,r),G("invalid",e);break;default:s=r}za(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ch(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ls(e,l):typeof l=="number"&&ls(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?l!=null&&i==="onScroll"&&G("scroll",e):l!=null&&Kl(e,i,l,o))}switch(n){case"input":qs(e),tc(e,r,!1);break;case"textarea":qs(e),rc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?or(e,!!r.multiple,i,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=_n(ws.current),_n(pt.current),ei(t)){if(r=t.stateNode,n=t.memoizedProps,r[dt]=t,(i=r.nodeValue!==n)&&(e=ze,e!==null))switch(e.tag){case 3:Zs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dt]=t,t.stateNode=r}return Se(t),null;case 13:if(J(Y),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Me!==null&&t.mode&1&&!(t.flags&128))gf(),yr(),t.flags|=98560,i=!1;else if(i=ei(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[dt]=t}else yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else nt!==null&&(xl(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?ce===0&&(ce=3):Tu())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return _r(),fl(e,t),e===null&&ms(t.stateNode.containerInfo),Se(t),null;case 10:return hu(t.type._context),Se(t),null;case 17:return Ie(t.type)&&Fi(),Se(t),null;case 19:if(J(Y),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)zr(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gi(e),o!==null){for(t.flags|=128,zr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>br&&(t.flags|=128,r=!0,zr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return Se(t),null}else 2*se()-i.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,zr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=Y.current,H(Y,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return ju(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function qv(e,t){switch(lu(t),t.tag){case 1:return Ie(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),J(Ae),J(Ee),vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gu(t),null;case 13:if(J(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(Y),null;case 4:return _r(),null;case 10:return hu(t.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var ri=!1,ke=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,R=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function pl(e,t,n){try{n()}catch(r){ne(e,t,r)}}var Hc=!1;function Kv(e,t){if(Ya=$i,e=nf(),ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++u===s&&(a=o),m===i&&++c===r&&(l=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},$i=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,g=x.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Xe(t.type,w),g);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){ne(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return x=Hc,Hc=!1,x}function ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pl(t,n,i)}s=s.next}while(s!==r)}}function xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zf(e){var t=e.alternate;t!==null&&(e.alternate=null,Zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[vs],delete t[tl],delete t[Tv],delete t[Rv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ep(e){return e.tag===5||e.tag===3||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zi));else if(r!==4&&(e=e.child,e!==null))for(gl(e,t,n),e=e.sibling;e!==null;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}var ye=null,et=!1;function It(e,t,n){for(n=n.child;n!==null;)tp(e,t,n),n=n.sibling}function tp(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 5:ke||nr(n,t);case 6:var r=ye,s=et;ye=null,It(e,t,n),ye=r,et=s,ye!==null&&(et?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(et?(e=ye,n=n.stateNode,e.nodeType===8?na(e.parentNode,n):e.nodeType===1&&na(e,n),hs(e)):na(ye,n.stateNode));break;case 4:r=ye,s=et,ye=n.stateNode.containerInfo,et=!0,It(e,t,n),ye=r,et=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pl(n,t,o),s=s.next}while(s!==r)}It(e,t,n);break;case 1:if(!ke&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ne(n,t,a)}It(e,t,n);break;case 21:It(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,It(e,t,n),ke=r):It(e,t,n);break;default:It(e,t,n)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hv),t.forEach(function(r){var s=ny.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ye=a.stateNode,et=!1;break e;case 3:ye=a.stateNode.containerInfo,et=!0;break e;case 4:ye=a.stateNode.containerInfo,et=!0;break e}a=a.return}if(ye===null)throw Error(N(160));tp(i,o,s),ye=null,et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)np(t,e),t=t.sibling}function np(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),lt(e),r&4){try{ns(3,e,e.return),xo(3,e)}catch(w){ne(e,e.return,w)}try{ns(5,e,e.return)}catch(w){ne(e,e.return,w)}}break;case 1:Qe(t,e),lt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(Qe(t,e),lt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var s=e.stateNode;try{ls(s,"")}catch(w){ne(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sh(s,i),Fa(a,o);var u=Fa(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?jh(s,h):c==="dangerouslySetInnerHTML"?Ch(s,h):c==="children"?ls(s,h):Kl(s,c,h,u)}switch(a){case"input":Da(s,i);break;case"textarea":kh(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?or(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?or(s,!!i.multiple,i.defaultValue,!0):or(s,!!i.multiple,i.multiple?[]:"",!1))}s[vs]=i}catch(w){ne(e,e.return,w)}}break;case 6:if(Qe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ne(e,e.return,w)}}break;case 3:if(Qe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(w){ne(e,e.return,w)}break;case 4:Qe(t,e),lt(e);break;case 13:Qe(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cu=se())),r&4&&Gc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(u=ke)||c,Qe(t,e),ke=u):Qe(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(h=R=c;R!==null;){switch(m=R,y=m.child,m.tag){case 0:case 11:case 14:case 15:ns(4,m,m.return);break;case 1:nr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){ne(r,n,w)}}break;case 5:nr(m,m.return);break;case 22:if(m.memoizedState!==null){Qc(h);continue}}y!==null?(y.return=m,R=y):Qc(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nh("display",o))}catch(w){ne(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ne(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qe(t,e),lt(e),r&4&&Gc(e);break;case 21:break;default:Qe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ep(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ls(s,""),r.flags&=-33);var i=Kc(e);vl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Kc(e);gl(e,a,o);break;default:throw Error(N(161))}}catch(l){ne(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gv(e,t,n){R=e,rp(e)}function rp(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ri;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ke;a=ri;var u=ke;if(ri=o,(ke=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Yc(s):l!==null?(l.return=o,R=l):Yc(s);for(;i!==null;)R=i,rp(i),i=i.sibling;R=s,ri=a,ke=u}Jc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Jc(e)}}function Jc(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||xo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Xe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ac(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ac(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&hs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ke||t.flags&512&&ml(t)}catch(m){ne(t,t.return,m)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Qc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Yc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xo(4,t)}catch(l){ne(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ne(t,s,l)}}var i=t.return;try{ml(t)}catch(l){ne(t,i,l)}break;case 5:var o=t.return;try{ml(t)}catch(l){ne(t,o,l)}}}catch(l){ne(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var Jv=Math.ceil,Yi=jt.ReactCurrentDispatcher,ku=jt.ReactCurrentOwner,Ke=jt.ReactCurrentBatchConfig,B=0,pe=null,ae=null,we=0,$e=0,rr=an(0),ce=0,Ss=null,Nn=0,bo=0,Eu=0,rs=null,Pe=null,Cu=0,br=1/0,vt=null,Xi=!1,yl=null,Xt=null,si=!1,qt=null,Zi=0,ss=0,wl=null,Ni=-1,ji=0;function je(){return B&6?se():Ni!==-1?Ni:Ni=se()}function Zt(e){return e.mode&1?B&2&&we!==0?we&-we:Ov.transition!==null?(ji===0&&(ji=zh()),ji):(e=V,e!==0||(e=window.event,e=e===void 0?16:Kh(e.type)),e):1}function st(e,t,n,r){if(50<ss)throw ss=0,wl=null,Error(N(185));$s(e,n,r),(!(B&2)||e!==pe)&&(e===pe&&(!(B&2)&&(bo|=n),ce===4&&Bt(e,we)),Le(e,r),n===1&&B===0&&!(t.mode&1)&&(br=se()+500,yo&&ln()))}function Le(e,t){var n=e.callbackNode;Og(e,t);var r=Di(e,e===pe?we:0);if(r===0)n!==null&&oc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&oc(n),t===1)e.tag===0?Pv(Xc.bind(null,e)):ff(Xc.bind(null,e)),Nv(function(){!(B&6)&&ln()}),n=null;else{switch(Fh(r)){case 1:n=Xl;break;case 4:n=Uh;break;case 16:n=Li;break;case 536870912:n=Mh;break;default:n=Li}n=dp(n,sp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sp(e,t){if(Ni=-1,ji=0,B&6)throw Error(N(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=Di(e,e===pe?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=eo(e,r);else{t=r;var s=B;B|=2;var i=op();(pe!==e||we!==t)&&(vt=null,br=se()+500,bn(e,t));do try{Xv();break}catch(a){ip(e,a)}while(!0);du(),Yi.current=i,B=s,ae!==null?t=0:(pe=null,we=0,t=ce)}if(t!==0){if(t===2&&(s=Ha(e),s!==0&&(r=s,t=_l(e,s))),t===1)throw n=Ss,bn(e,0),Bt(e,r),Le(e,se()),n;if(t===6)Bt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Qv(s)&&(t=eo(e,r),t===2&&(i=Ha(e),i!==0&&(r=i,t=_l(e,i))),t===1))throw n=Ss,bn(e,0),Bt(e,r),Le(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:pn(e,Pe,vt);break;case 3:if(Bt(e,r),(r&130023424)===r&&(t=Cu+500-se(),10<t)){if(Di(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=el(pn.bind(null,e,Pe,vt),t);break}pn(e,Pe,vt);break;case 4:if(Bt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-rt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jv(r/1960))-r,10<r){e.timeoutHandle=el(pn.bind(null,e,Pe,vt),r);break}pn(e,Pe,vt);break;case 5:pn(e,Pe,vt);break;default:throw Error(N(329))}}}return Le(e,se()),e.callbackNode===n?sp.bind(null,e):null}function _l(e,t){var n=rs;return e.current.memoizedState.isDehydrated&&(bn(e,t).flags|=256),e=eo(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&xl(t)),e}function xl(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function Qv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~Eu,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Xc(e){if(B&6)throw Error(N(327));dr();var t=Di(e,0);if(!(t&1))return Le(e,se()),null;var n=eo(e,t);if(e.tag!==0&&n===2){var r=Ha(e);r!==0&&(t=r,n=_l(e,r))}if(n===1)throw n=Ss,bn(e,0),Bt(e,t),Le(e,se()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pn(e,Pe,vt),Le(e,se()),null}function Nu(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(br=se()+500,yo&&ln())}}function jn(e){qt!==null&&qt.tag===0&&!(B&6)&&dr();var t=B;B|=1;var n=Ke.transition,r=V;try{if(Ke.transition=null,V=1,e)return e()}finally{V=r,Ke.transition=n,B=t,!(B&6)&&ln()}}function ju(){$e=rr.current,J(rr)}function bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cv(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fi();break;case 3:_r(),J(Ae),J(Ee),vu();break;case 5:gu(r);break;case 4:_r();break;case 13:J(Y);break;case 19:J(Y);break;case 10:hu(r.type._context);break;case 22:case 23:ju()}n=n.return}if(pe=e,ae=e=en(e.current,null),we=$e=t,ce=0,Ss=null,Eu=bo=Nn=0,Pe=rs=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wn=null}return e}function ip(e,t){do{var n=ae;try{if(du(),ki.current=Qi,Ji){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ji=!1}if(Cn=0,he=ue=X=null,ts=!1,_s=0,ku.current=null,n===null||n.return===null){ce=1,Ss=t,ae=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=we,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Mc(o);if(y!==null){y.flags&=-257,zc(y,o,a,i,t),y.mode&1&&Uc(i,u,t),t=y,l=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(l),t.updateQueue=w}else x.add(l);break e}else{if(!(t&1)){Uc(i,u,t),Tu();break e}l=Error(N(426))}}else if(Q&&a.mode&1){var g=Mc(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),zc(g,o,a,i,t),uu(xr(l,a));break e}}i=l=xr(l,a),ce!==4&&(ce=2),rs===null?rs=[i]:rs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Bf(i,l,t);Oc(i,p);break e;case 1:a=l;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xt===null||!Xt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Wf(i,a,t);Oc(i,b);break e}}i=i.return}while(i!==null)}lp(n)}catch(S){t=S,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function op(){var e=Yi.current;return Yi.current=Qi,e===null?Qi:e}function Tu(){(ce===0||ce===3||ce===2)&&(ce=4),pe===null||!(Nn&268435455)&&!(bo&268435455)||Bt(pe,we)}function eo(e,t){var n=B;B|=2;var r=op();(pe!==e||we!==t)&&(vt=null,bn(e,t));do try{Yv();break}catch(s){ip(e,s)}while(!0);if(du(),B=n,Yi.current=r,ae!==null)throw Error(N(261));return pe=null,we=0,ce}function Yv(){for(;ae!==null;)ap(ae)}function Xv(){for(;ae!==null&&!Sg();)ap(ae)}function ap(e){var t=cp(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?lp(e):ae=t,ku.current=null}function lp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qv(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ae=null;return}}else if(n=Vv(n,t,$e),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ce===0&&(ce=5)}function pn(e,t,n){var r=V,s=Ke.transition;try{Ke.transition=null,V=1,Zv(e,t,n,r)}finally{Ke.transition=s,V=r}return null}function Zv(e,t,n,r){do dr();while(qt!==null);if(B&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ag(e,i),e===pe&&(ae=pe=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||si||(si=!0,dp(Li,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=V;V=1;var a=B;B|=4,ku.current=null,Kv(e,n),np(n,e),wv(Xa),$i=!!Ya,Xa=Ya=null,e.current=n,Gv(n),kg(),B=a,V=o,Ke.transition=i}else e.current=n;if(si&&(si=!1,qt=e,Zi=s),i=e.pendingLanes,i===0&&(Xt=null),Ng(n.stateNode),Le(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,e=yl,yl=null,e;return Zi&1&&e.tag!==0&&dr(),i=e.pendingLanes,i&1?e===wl?ss++:(ss=0,wl=e):ss=0,ln(),null}function dr(){if(qt!==null){var e=Fh(Zi),t=Ke.transition,n=V;try{if(Ke.transition=null,V=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,Zi=0,B&6)throw Error(N(331));var s=B;for(B|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:ns(8,c,i)}var h=c.child;if(h!==null)h.return=c,R=h;else for(;R!==null;){c=R;var m=c.sibling,y=c.return;if(Zf(c),c===u){R=null;break}if(m!==null){m.return=y,R=m;break}R=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var g=w.sibling;w.sibling=null,w=g}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ns(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,R=p;break e}R=i.return}}var f=e.current;for(R=f;R!==null;){o=R;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,R=v;else e:for(o=f;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xo(9,a)}}catch(S){ne(a,a.return,S)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(B=s,ln(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(fo,e)}catch{}r=!0}return r}finally{V=n,Ke.transition=t}}return!1}function Zc(e,t,n){t=xr(n,t),t=Bf(e,t,1),e=Yt(e,t,1),t=je(),e!==null&&($s(e,1,t),Le(e,t))}function ne(e,t,n){if(e.tag===3)Zc(e,e,n);else for(;t!==null;){if(t.tag===3){Zc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=xr(n,e),e=Wf(t,e,1),t=Yt(t,e,1),e=je(),t!==null&&($s(t,1,e),Le(t,e));break}}t=t.return}}function ey(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(we&n)===n&&(ce===4||ce===3&&(we&130023424)===we&&500>se()-Cu?bn(e,0):Eu|=n),Le(e,t)}function up(e,t){t===0&&(e.mode&1?(t=Gs,Gs<<=1,!(Gs&130023424)&&(Gs=4194304)):t=1);var n=je();e=Ct(e,t),e!==null&&($s(e,t,n),Le(e,n))}function ty(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),up(e,n)}function ny(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),up(e,n)}var cp;cp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Oe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oe=!1,Wv(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,Q&&t.flags&1048576&&pf(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ci(e,t),e=t.pendingProps;var s=vr(t,Ee.current);cr(t,n),s=wu(null,t,r,e,s,n);var i=_u();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(i=!0,Bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pu(t),s.updater=_o,t.stateNode=s,s._reactInternals=t,al(t,r,e,n),t=cl(null,t,r,!0,i,n)):(t.tag=0,Q&&i&&au(t),Ne(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ci(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=sy(r),e=Xe(r,e),s){case 0:t=ul(null,t,r,e,n);break e;case 1:t=Wc(null,t,r,e,n);break e;case 11:t=Fc(null,t,r,e,n);break e;case 14:t=Bc(null,t,r,Xe(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),ul(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Wc(e,t,r,s,n);case 3:e:{if(Kf(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,_f(e,t),Ki(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xr(Error(N(423)),t),t=Vc(e,t,r,n,s);break e}else if(r!==s){s=xr(Error(N(424)),t),t=Vc(e,t,r,n,s);break e}else for(Me=Qt(t.stateNode.containerInfo.firstChild),ze=t,Q=!0,nt=null,n=yf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yr(),r===s){t=Nt(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return xf(t),e===null&&sl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Za(r,s)?o=null:i!==null&&Za(r,i)&&(t.flags|=32),Hf(e,t),Ne(e,t,o,n),t.child;case 6:return e===null&&sl(t),null;case 13:return Gf(e,t,n);case 4:return mu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wr(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Fc(e,t,r,s,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(qi,r._currentValue),r._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===s.children&&!Ae.current){t=Nt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),il(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),il(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,cr(t,n),s=Ge(s),r=r(s),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,s=Xe(r,t.pendingProps),s=Xe(r.type,s),Bc(e,t,r,s,n);case 15:return Vf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Ci(e,t),t.tag=1,Ie(r)?(e=!0,Bi(t)):e=!1,cr(t,n),Ff(t,r,s),al(t,r,s,n),cl(null,t,r,!0,e,n);case 19:return Jf(e,t,n);case 22:return qf(e,t,n)}throw Error(N(156,t.tag))};function dp(e,t){return $h(e,t)}function ry(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new ry(e,t,n,r)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sy(e){if(typeof e=="function")return Ru(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Ql)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ti(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ru(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kn:return Sn(n.children,s,i,t);case Gl:o=8,s|=8;break;case Pa:return e=He(12,n,t,s|2),e.elementType=Pa,e.lanes=i,e;case Oa:return e=He(13,n,t,s),e.elementType=Oa,e.lanes=i,e;case Aa:return e=He(19,n,t,s),e.elementType=Aa,e.lanes=i,e;case _h:return So(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yh:o=10;break e;case wh:o=9;break e;case Jl:o=11;break e;case Ql:o=14;break e;case Ut:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=He(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Sn(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function So(e,t,n,r){return e=He(22,e,r,t),e.elementType=_h,e.lanes=n,e.stateNode={isHidden:!1},e}function ca(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function da(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pu(e,t,n,r,s,i,o,a,l){return e=new iy(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(i),e}function oy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hp(e){if(!e)return sn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ie(n))return hf(e,n,t)}return t}function fp(e,t,n,r,s,i,o,a,l){return e=Pu(n,r,!0,e,s,i,o,a,l),e.context=hp(null),n=e.current,r=je(),s=Zt(n),i=bt(r,s),i.callback=t??null,Yt(n,i,s),e.current.lanes=s,$s(e,s,r),Le(e,r),e}function ko(e,t,n,r){var s=t.current,i=je(),o=Zt(s);return n=hp(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(s,t,o),e!==null&&(st(e,s,o,i),Si(e,s,o)),o}function to(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ou(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function ay(){return null}var pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Au(e){this._internalRoot=e}Eo.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ko(e,t,null,null)};Eo.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){ko(null,e,null,null)}),t[Et]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&t!==0&&t<Ft[n].priority;n++);Ft.splice(n,0,e),n===0&&Hh(e)}};function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function ly(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=to(o);i.call(u)}}var o=fp(t,r,e,0,null,!1,!1,"",td);return e._reactRootContainer=o,e[Et]=o.current,ms(e.nodeType===8?e.parentNode:e),jn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=to(l);a.call(u)}}var l=Pu(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=l,e[Et]=l.current,ms(e.nodeType===8?e.parentNode:e),jn(function(){ko(t,l,n,r)}),l}function No(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=to(o);a.call(l)}}ko(t,o,e,s)}else o=ly(n,t,e,s,r);return to(o)}Bh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kr(t.pendingLanes);n!==0&&(Zl(t,n|1),Le(t,se()),!(B&6)&&(br=se()+500,ln()))}break;case 13:jn(function(){var r=Ct(e,1);if(r!==null){var s=je();st(r,e,1,s)}}),Ou(e,1)}};eu=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var n=je();st(t,e,134217728,n)}Ou(e,134217728)}};Wh=function(e){if(e.tag===13){var t=Zt(e),n=Ct(e,t);if(n!==null){var r=je();st(n,e,t,r)}Ou(e,t)}};Vh=function(){return V};qh=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};Wa=function(e,t,n){switch(t){case"input":if(Da(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=vo(r);if(!s)throw Error(N(90));bh(r),Da(r,s)}}}break;case"textarea":kh(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};Ph=Nu;Oh=jn;var uy={usingClientEntryPoint:!1,Events:[Ms,Yn,vo,Th,Rh,Nu]},Fr={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cy={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lh(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||ay,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{fo=ii.inject(cy),ft=ii}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uy;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(t))throw Error(N(200));return oy(e,t,null,n)};Be.createRoot=function(e,t){if(!Iu(e))throw Error(N(299));var n=!1,r="",s=pp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Pu(e,1,!1,null,null,n,!1,r,s),e[Et]=t.current,ms(e.nodeType===8?e.parentNode:e),new Au(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Lh(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return jn(e)};Be.hydrate=function(e,t,n){if(!Co(t))throw Error(N(200));return No(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!Iu(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=fp(t,null,e,1,n??null,s,!1,i,o),e[Et]=t.current,ms(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Eo(t)};Be.render=function(e,t,n){if(!Co(t))throw Error(N(200));return No(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Co(e))throw Error(N(40));return e._reactRootContainer?(jn(function(){No(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Be.unstable_batchedUpdates=Nu;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Co(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return No(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mp)}catch(e){console.error(e)}}mp(),ph.exports=Be;var Lu=ph.exports;const dy=th(Lu);var nd=Lu;Ta.createRoot=nd.createRoot,Ta.hydrateRoot=nd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ks.apply(this,arguments)}var Ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ht||(Ht={}));const rd="popstate";function hy(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return bl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:no(s)}return py(t,n,null,e)}function Z(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Du(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fy(){return Math.random().toString(36).substr(2,8)}function sd(e,t){return{usr:e.state,key:e.key,idx:t}}function bl(e,t,n,r){return n===void 0&&(n=null),ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nr(t):t,{state:n,key:t&&t.key||r||fy()})}function no(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function py(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ht.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ks({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ht.Pop;let g=c(),p=g==null?null:g-u;u=g,l&&l({action:a,location:w.location,delta:p})}function m(g,p){a=Ht.Push;let f=bl(w.location,g,p);u=c()+1;let v=sd(f,u),b=w.createHref(f);try{o.pushState(v,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&l&&l({action:a,location:w.location,delta:1})}function y(g,p){a=Ht.Replace;let f=bl(w.location,g,p);u=c();let v=sd(f,u),b=w.createHref(f);o.replaceState(v,"",b),i&&l&&l({action:a,location:w.location,delta:0})}function x(g){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof g=="string"?g:no(g);return f=f.replace(/ $/,"%20"),Z(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let w={get action(){return a},get location(){return e(s,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rd,h),l=g,()=>{s.removeEventListener(rd,h),l=null}},createHref(g){return t(s,g)},createURL:x,encodeLocation(g){let p=x(g);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:y,go(g){return o.go(g)}};return w}var id;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(id||(id={}));function my(e,t,n){return n===void 0&&(n="/"),gy(e,t,n)}function gy(e,t,n,r){let s=typeof t=="string"?Nr(t):t,i=Sr(s.pathname||"/",n);if(i==null)return null;let o=gp(e);vy(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=jy(i);a=Cy(o[l],u)}return a}function gp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Z(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=tn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Z(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gp(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ky(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of vp(i.path))s(i,o,l)}),t}function vp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vp(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function vy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ey(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yy=/^:[\w-]+$/,wy=3,_y=2,xy=1,by=10,Sy=-2,od=e=>e==="*";function ky(e,t){let n=e.split("/"),r=n.length;return n.some(od)&&(r+=Sy),t&&(r+=_y),n.filter(s=>!od(s)).reduce((s,i)=>s+(yy.test(i)?wy:i===""?xy:by),r)}function Ey(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Cy(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=Sl({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:tn([i,h.pathname]),pathnameBase:Ay(tn([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=tn([i,h.pathnameBase]))}return o}function Sl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ny(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:m,isOptional:y}=c;if(m==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[h];return y&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Ny(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Du(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function jy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Du(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ry=e=>Ty.test(e);function Py(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Nr(e):e,i;if(n)if(Ry(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Du(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=ad(n.substring(1),"/"):i=ad(n,t)}else i=t;return{pathname:i,search:Iy(r),hash:Ly(s)}}function ad(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ha(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $u(e,t){let n=Oy(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uu(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Nr(e):(s=ks({},e),Z(!s.pathname||!s.pathname.includes("?"),ha("?","pathname","search",s)),Z(!s.pathname||!s.pathname.includes("#"),ha("#","pathname","hash",s)),Z(!s.search||!s.search.includes("#"),ha("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?t[h]:"/"}let l=Py(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),Ay=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Iy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ly=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yp=["post","put","patch","delete"];new Set(yp);const $y=["get",...yp];new Set($y);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(this,arguments)}const jo=_.createContext(null),wp=_.createContext(null),Tt=_.createContext(null),To=_.createContext(null),mt=_.createContext({outlet:null,matches:[],isDataRoute:!1}),_p=_.createContext(null);function Uy(e,t){let{relative:n}=t===void 0?{}:t;jr()||Z(!1);let{basename:r,navigator:s}=_.useContext(Tt),{hash:i,pathname:o,search:a}=Po(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:tn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function jr(){return _.useContext(To)!=null}function Tr(){return jr()||Z(!1),_.useContext(To).location}function xp(e){_.useContext(Tt).static||_.useLayoutEffect(e)}function Ro(){let{isDataRoute:e}=_.useContext(mt);return e?ew():My()}function My(){jr()||Z(!1);let e=_.useContext(jo),{basename:t,future:n,navigator:r}=_.useContext(Tt),{matches:s}=_.useContext(mt),{pathname:i}=Tr(),o=JSON.stringify($u(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return xp(()=>{a.current=!0}),_.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Uu(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:tn([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,o,i,e])}const zy=_.createContext(null);function Fy(e){let t=_.useContext(mt).outlet;return t&&_.createElement(zy.Provider,{value:e},t)}function By(){let{matches:e}=_.useContext(mt),t=e[e.length-1];return t?t.params:{}}function Po(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(Tt),{matches:s}=_.useContext(mt),{pathname:i}=Tr(),o=JSON.stringify($u(s,r.v7_relativeSplatPath));return _.useMemo(()=>Uu(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Wy(e,t){return Vy(e,t)}function Vy(e,t,n,r){jr()||Z(!1);let{navigator:s}=_.useContext(Tt),{matches:i}=_.useContext(mt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Tr(),c;if(t){var h;let g=typeof t=="string"?Nr(t):t;l==="/"||(h=g.pathname)!=null&&h.startsWith(l)||Z(!1),c=g}else c=u;let m=c.pathname||"/",y=m;if(l!=="/"){let g=l.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=my(e,{pathname:y}),w=Jy(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:tn([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:tn([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r);return t&&w?_.createElement(To.Provider,{value:{location:Es({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ht.Pop}},w):w}function qy(){let e=Zy(),t=Dy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const Hy=_.createElement(qy,null);class Ky extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(mt.Provider,{value:this.props.routeContext},_.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gy(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(jo);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(mt.Provider,{value:t},r)}function Jy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Z(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:m,errors:y}=n,x=h.route.loader&&m[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,m)=>{let y,x=!1,w=null,g=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Hy,l&&(u<0&&m===0?(tw("route-fallback"),x=!0,g=null):u===m&&(x=!0,g=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,m+1)),f=()=>{let v;return y?v=w:x?v=g:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,_.createElement(Gy,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_.createElement(Ky,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var bp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bp||{}),Sp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sp||{});function Qy(e){let t=_.useContext(jo);return t||Z(!1),t}function Yy(e){let t=_.useContext(wp);return t||Z(!1),t}function Xy(e){let t=_.useContext(mt);return t||Z(!1),t}function kp(e){let t=Xy(),n=t.matches[t.matches.length-1];return n.route.id||Z(!1),n.route.id}function Zy(){var e;let t=_.useContext(_p),n=Yy(),r=kp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ew(){let{router:e}=Qy(bp.UseNavigateStable),t=kp(Sp.UseNavigateStable),n=_.useRef(!1);return xp(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Es({fromRouteId:t},i)))},[e,t])}const ld={};function tw(e,t,n){ld[e]||(ld[e]=!0)}function nw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ud(e){let{to:t,replace:n,state:r,relative:s}=e;jr()||Z(!1);let{future:i,static:o}=_.useContext(Tt),{matches:a}=_.useContext(mt),{pathname:l}=Tr(),u=Ro(),c=Uu(t,$u(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(c);return _.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Ep(e){return Fy(e.context)}function ut(e){Z(!1)}function rw(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ht.Pop,navigator:i,static:o=!1,future:a}=e;jr()&&Z(!1);let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,future:Es({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Nr(r));let{pathname:c="/",search:h="",hash:m="",state:y=null,key:x="default"}=r,w=_.useMemo(()=>{let g=Sr(c,l);return g==null?null:{location:{pathname:g,search:h,hash:m,state:y,key:x},navigationType:s}},[l,c,h,m,y,x,s]);return w==null?null:_.createElement(Tt.Provider,{value:u},_.createElement(To.Provider,{children:n,value:w}))}function sw(e){let{children:t,location:n}=e;return Wy(kl(t),n)}new Promise(()=>{});function kl(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let i=[...t,s];if(r.type===_.Fragment){n.push.apply(n,kl(r.props.children,i));return}r.type!==ut&&Z(!1),!r.props.index||!r.props.children||Z(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}function Cp(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function iw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ow(e,t){return e.button===0&&(!t||t==="_self")&&!iw(e)}const aw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uw="6";try{window.__reactRouterVersion=uw}catch{}const cw=_.createContext({isTransitioning:!1}),dw="startTransition",cd=ho[dw];function hw(e){let{basename:t,children:n,future:r,window:s}=e,i=_.useRef();i.current==null&&(i.current=hy({window:s,v5Compat:!0}));let o=i.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=_.useCallback(h=>{u&&cd?cd(()=>l(h)):l(h)},[l,u]);return _.useLayoutEffect(()=>o.listen(c),[o,c]),_.useEffect(()=>nw(r),[r]),_.createElement(rw,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=_.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=t,m=Cp(t,aw),{basename:y}=_.useContext(Tt),x,w=!1;if(typeof u=="string"&&pw.test(u)&&(x=u,fw))try{let v=new URL(window.location.href),b=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=Sr(b.pathname,y);b.origin===v.origin&&S!=null?u=S+b.search+b.hash:w=!0}catch{}let g=Uy(u,{relative:s}),p=gw(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function f(v){r&&r(v),v.defaultPrevented||p(v)}return _.createElement("a",ro({},m,{href:x||g,onClick:w||i?r:f,ref:n,target:l}))}),dd=_.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=t,h=Cp(t,lw),m=Po(l,{relative:h.relative}),y=Tr(),x=_.useContext(wp),{navigator:w,basename:g}=_.useContext(Tt),p=x!=null&&vw(m)&&u===!0,f=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,v=y.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(v=v.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&g&&(b=Sr(b,g)||b);const S=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let k=v===f||!o&&v.startsWith(f)&&v.charAt(S)==="/",E=b!=null&&(b===f||!o&&b.startsWith(f)&&b.charAt(f.length)==="/"),C={isActive:k,isPending:E,isTransitioning:p},P=k?r:void 0,j;typeof i=="function"?j=i(C):j=[i,k?"active":null,E?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(C):a;return _.createElement(Rr,ro({},h,{"aria-current":P,className:j,ref:n,style:W,to:l,viewTransition:u}),typeof c=="function"?c(C):c)});var El;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(El||(El={}));var hd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hd||(hd={}));function mw(e){let t=_.useContext(jo);return t||Z(!1),t}function gw(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Ro(),u=Tr(),c=Po(e,{relative:o});return _.useCallback(h=>{if(ow(h,n)){h.preventDefault();let m=r!==void 0?r:no(u)===no(c);l(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,r,s,n,e,i,o,a])}function vw(e,t){t===void 0&&(t={});let n=_.useContext(cw);n==null&&Z(!1);let{basename:r}=mw(El.useViewTransitionState),s=Po(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sl(s.pathname,o)!=null||Sl(s.pathname,i)!=null}var ht=function(){return ht=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ht.apply(this,arguments)};function Pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function yw(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function ww(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const _w=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Mu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class xw extends Mu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fd extends Mu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pd extends Mu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cl||(Cl={}));class bw{constructor(t,{headers:n={},customFetch:r,region:s=Cl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=_w(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return yw(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=r;let m={},{region:y}=r;y||(y=this.region);const x=new URL(`${this.url}/${n}`);y&&y!=="any"&&(m["x-region"]=y,x.searchParams.set("forceFunctionRegion",y));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(m["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(m["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let g=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(g=o.signal,c.addEventListener("abort",()=>o.abort())):g=o.signal);const p=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:w,signal:g}).catch(S=>{throw new xw(S)}),f=p.headers.get("x-relay-error");if(f&&f==="true")throw new fd(p);if(!p.ok)throw new pd(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"||v==="application/pdf"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof pd||a instanceof fd?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Sw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kw=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,m;if(n.method!=="HEAD"){var y;const p=await i.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),g=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&g&&g.length>1&&(l=parseInt(g[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new Sw(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",u="";const c=i==null?void 0:i.cause;if(c){var h,m,y,x;const p=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",f=(m=c==null?void 0:c.code)!==null&&m!==void 0?m:"";a=`${(y=i==null?void 0:i.name)!==null&&y!==void 0?y:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"Error"}: ${p}`,f&&(a+=` (${f})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var w;a=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const g=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",g>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${g} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",g>this.urlLengthLimit&&(l+=`. Your request URL is ${g} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Ew=class extends kw{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const md=new RegExp("[,()]");var Wn=class extends Ew{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&md.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&md.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Cw=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Wn({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Wn({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",c.join(","))}}return new Wn({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Wn({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Wn({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Nw(e,t){if(Cs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jw(e){var t=Nw(e,"string");return Cs(t)=="symbol"?t:t+""}function Tw(e,t,n){return(t=jw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gd(Object(n),!0).forEach(function(r){Tw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Rw=class Np{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,h=setTimeout(()=>c.abort(),i),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(h),a(l,u);const y=()=>{clearTimeout(h),c.abort()};return m.addEventListener("abort",y,{once:!0}),a(l,oi(oi({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(h),m.removeEventListener("abort",y)})}return a(l,oi(oi({},u),{},{signal:c.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Cw(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Np(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(c)),h=r&&Object.values(n).some(c);h?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{l.searchParams.append(y,x)})):(a="POST",u=n);const m=new Headers(this.headers);return h?m.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&m.set("Prefer",`count=${i}`),new Wn({method:a,url:l,headers:m,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Pw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ow="2.94.1",Aw=`realtime-js/${Ow}`,Iw="1.0.0",jp="2.0.0",vd=jp,Nl=1e4,Lw=1e3,Dw=100;var zt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zt||(zt={}));var le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(le||(le={}));var tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tt||(tt={}));var jl;(function(e){e.websocket="websocket"})(jl||(jl={}));var gn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gn||(gn={}));class $w{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(y),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,l.length),x.setUint8(w++,a.length),x.setUint8(w++,o.length),x.setUint8(w++,u.length),x.setUint8(w++,h.length),x.setUint8(w++,n),Array.from(l,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(o,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(h,p=>x.setUint8(w++,p.charCodeAt(0)));var g=new Uint8Array(y.byteLength+r.byteLength);return g.set(new Uint8Array(y),0),g.set(new Uint8Array(r),y.byteLength),g.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const m=t.slice(l,t.byteLength),y=a===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,x={type:this.BROADCAST_EVENT,event:c,payload:y};return o>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Tp{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const yd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Uw(o,e,t,s),i),{}):{}},Uw=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Rp(i,o):Tl(o)},Rp=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Bw(t,n)}switch(e){case q.bool:return Mw(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return zw(t);case q.json:case q.jsonb:return Fw(t);case q.timestamp:return Ww(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return Tl(t);default:return Tl(t)}},Tl=e=>e,Mw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Bw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rp(t,a))}return e},Ww=e=>typeof e=="string"?e.replace(" ","T"):e,Pp=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fa{constructor(t,n,r={},s=Nl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wd||(wd={}));class is{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=is.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=is.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const m=c.map(g=>g.presence_ref),y=h.map(g=>g.presence_ref),x=c.filter(g=>y.indexOf(g.presence_ref)<0),w=h.filter(g=>m.indexOf(g.presence_ref)<0);x.length>0&&(a[u]=x),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(y=>y.presence_ref),m=c.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...m)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _d;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_d||(_d={}));var os;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(os||(os={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class sr{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fa(this,tt.join,this.params,this.timeout),this.rejoinTimer=new Tp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new is(this),this.broadcastEndpointURL=Pp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[os.PRESENCE]&&this.bindings[os.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(yt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(yt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,g=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,p=[];for(let f=0;f<g;f++){const v=w[f],{filter:{event:b,schema:S,table:k,filter:E}}=v,C=y&&y[f];if(C&&C.event===b&&sr.isFilterValueEqual(C.schema,S)&&sr.isFilterValueEqual(C.table,k)&&sr.isFilterValueEqual(C.filter,E))p.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=le.errored,t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(yt.SUBSCRIBED);return}}).receive("error",y=>{this.state=le.errored,t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===le.joined&&t===os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new fa(this,tt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fa(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Dw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=tt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,w,g;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((g=(w=y.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,w,g,p,f,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,S=(x=y.filter)===null||x===void 0?void 0:x.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const b=(f=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:w,table:g,commit_timestamp:p,type:f,errors:v}=x;m=Object.assign(Object.assign({},{schema:w,table:g,commit_timestamp:p,eventType:f,new:{},old:{},errors:v}),this._getPayloadRecords(x))}y.callback(m,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sr.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tt.close,{},t)}_onError(t){this._on(tt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yd(t.columns,t.old_record)),n}}const pa=()=>{},ai={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vw=[1e3,2e3,5e3,1e4],qw=1e4,Hw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kw{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nl,this.transport=null,this.heartbeatIntervalMs=ai.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pa,this.ref=0,this.reconnectTimer=null,this.vsn=vd,this.logger=pa,this.conn=null,this.sendBuffer=[],this.serializer=new $w,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${jl.websocket}`,this.httpEndpoint=Pp(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return gn.Connecting;case zt.open:return gn.Open;case zt.closing:return gn.Closing;default:return gn.Closed}}isConnected(){return this.connectionState()===gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new sr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ai.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===zt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zt.open||this.conn.readyState===zt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(tt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Hw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Aw};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Tp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ai.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c,h,m,y;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Nl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ai.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:pa,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:vd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>Vw[x-1]||qw,this.vsn){case Iw:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(x,w)=>w(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,w)=>w(JSON.parse(x));break;case jp:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ns=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gw(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function Jw(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Qw(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=Gw(e.baseUrl,r,s),l=await Jw(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&c?JSON.parse(c):c;if(!u.ok){const y=h?m:void 0,x=y==null?void 0:y.error;throw new Ns((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:y})}return{status:u.status,headers:u.headers,data:m}}}}function li(e){return e.join("")}var Yw=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:li(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${li(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${li(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${li(e.namespace)}`}),!0}catch(t){if(t instanceof Ns&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ns&&n.status===409)return;throw n}}};function In(e){return e.join("")}var Xw=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${In(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${In(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${In(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${In(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${In(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${In(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ns&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ns&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Zw=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Qw({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Yw(this.client,t),this.tableOps=new Xw(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Oo=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ao(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ui=class extends Oo{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Op=class extends Oo{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const e0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),t0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rl=e=>{if(Array.isArray(e))return e.map(n=>Rl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rl(r)}),t},n0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function r0(e,t){if(js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(e){var t=r0(e,"string");return js(t)=="symbol"?t:t+""}function i0(e,t,n){return(t=s0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xd(Object(n),!0).forEach(function(r){i0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const bd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},o0=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new ui(bd(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new ui(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new ui(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new ui(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new Op(bd(e),e,r))},a0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?L(L({},s),n):(t0(r)?(s.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),L(L({},s),n))};async function Br(e,t,n,r,s,i,o){return new Promise((a,l)=>{e(n,a0(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>o0(u,l,r,o))})}function Ap(e="storage"){return{get:async(t,n,r,s)=>Br(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Br(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Br(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Br(t,"HEAD",n,L(L({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Br(t,"DELETE",n,s,i,r,e)}}const l0=Ap("storage"),{get:Ts,post:Ze,put:Pl,head:u0,remove:zu}=l0,Ue=Ap("vectors");var Or=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=e0(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}}},c0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ao(t))return{data:null,error:t};throw t}}};let Ip;Ip=Symbol.toStringTag;var d0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ip]="BlobDownloadBuilder",this.promise=null}asStream(){return new c0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ao(t))return{data:null,error:t};throw t}}};const h0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var f0=class extends Or{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=L(L({},Sd),r);let a=L(L({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=L(L({},a),r.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),h=await(e=="PUT"?Pl:Ze)(s.fetch,`${s.url}/object/${c}`,i,L({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=L({upsert:Sd.upsert},r),c=L(L({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Pl(s.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=L({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ze(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Oo("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Ze(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Ze(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await Ze(r.fetch,`${r.url}/object/sign/${s}`,L({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await Ze(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>L(L({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Ts(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new d0(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Rl(await Ts(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await u0(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ao(r)&&r instanceof Op){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await zu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=L(L(L({},h0),t),{},{prefix:e||""});return await Ze(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=L({},e);return await Ze(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const p0="2.94.1",Fs={"X-Client-Info":`storage-js/${p0}`};var m0=class extends Or{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=L(L({},Fs),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ts(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ts(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Ze(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Pl(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ze(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await zu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},g0=class extends Or{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=L(L({},Fs),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ze(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ts(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await zu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!n0(e))throw new Oo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Zw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},v0=class extends Or{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=L(L({},Fs),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ue.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ue.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},y0=class extends Or{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=L(L({},Fs),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},w0=class extends Or{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=L(L({},Fs),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ue.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},_0=class extends w0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new x0(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},x0=class extends v0{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new b0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},b0=class extends y0{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,L(L({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},S0=class extends m0{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new f0(this.url,this.headers,e,this.fetch)}get vectors(){return new _0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g0(this.url+"/iceberg",this.headers,this.fetch)}};const Lp="2.94.1",Vn=30*1e3,Ol=3,ma=Ol*Vn,k0="http://localhost:9999",E0="supabase.auth.token",C0={"X-Client-Info":`gotrue-js/${Lp}`},Al="X-Supabase-Api-Version",Dp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j0=10*60*1e3;class Rs extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T0 extends Rs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function R0(e){return O(e)&&e.name==="AuthApiError"}class vn extends Rs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Rt extends Rs{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class De extends Rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ga(e){return O(e)&&e.name==="AuthSessionMissingError"}class Ln extends Rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ci extends Rt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class di extends Rt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P0(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}class kd extends Rt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O0 extends Rt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Il extends Rt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function va(e){return O(e)&&e.name==="AuthRetryableFetchError"}class Ed extends Rt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ll extends Rt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cd=` 	
\r=`.split(""),A0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cd.length;t+=1)e[Cd[t].charCodeAt(0)]=-2;for(let t=0;t<so.length;t+=1)e[so[t].charCodeAt(0)]=t;return e})();function Nd(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(so[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(so[r]),t.queuedBits-=6}}function $p(e,t,n){const r=A0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{D0(o,r,n)};for(let o=0;o<e.length;o+=1)$p(e.charCodeAt(o),s,i);return t.join("")}function I0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function L0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}I0(r,t)}}function D0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$p(e.charCodeAt(s),n,r);return new Uint8Array(t)}function $0(e){const t=[];return L0(e,n=>t.push(n)),new Uint8Array(t)}function xn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Nd(s,n,r)),Nd(null,n,r),t.join("")}function U0(e){return Math.round(Date.now()/1e3)+e}function M0(){return Symbol("auth-callback")}const ve=()=>typeof window<"u"&&typeof document<"u",dn={tested:!1,writable:!1},Up=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dn.tested)return dn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dn.tested=!0,dn.writable=!0}catch{dn.tested=!0,dn.writable=!1}return dn.writable};function z0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Mp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},hn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ge=async(e,t)=>{await e.removeItem(t)};class Io{constructor(){this.promise=new Io.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Io.promiseConstructor=Promise;function hi(e){const t=e.split(".");if(t.length!==3)throw new Ll("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!N0.test(t[r]))throw new Ll("JWT not in base64url format");return{header:JSON.parse(jd(t[0])),payload:JSON.parse(jd(t[1])),signature:hr(t[2]),raw:{header:t[0],payload:t[1]}}}async function B0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W0(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function V0(e){return("0"+e.toString(16)).substr(-2)}function q0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,V0).join("")}async function H0(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function K0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await H0(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(e,t,n=!1){const r=q0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await qn(e,`${t}-code-verifier`,s);const i=await K0(r);return[i,r===i?"plain":"s256"]}const G0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J0(e){const t=e.headers.get(Al);if(!t||!t.match(G0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Y0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $n(e){if(!X0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ya(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z0(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Td(e){return JSON.parse(JSON.stringify(e))}const mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e_=[502,503,504];async function Rd(e){var t;if(!F0(e))throw new Il(mn(e),0);if(e_.includes(e.status))throw new Il(mn(e),e.status);let n;try{n=await e.json()}catch(i){throw new vn(mn(i),i)}let r;const s=J0(e);if(s&&s.getTime()>=Dp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ed(mn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new De}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ed(mn(n),e.status,n.weak_password.reasons);throw new T0(mn(n),e.status||500,r)}const t_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Al]||(i[Al]=Dp["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await n_(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function n_(e,t,n,r,s,i){const o=t_(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Il(mn(l),0)}if(a.ok||await Rd(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Rd(l)}}function Ye(e){var t;let n=null;i_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=U0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Pd(e){const t=Ye(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r_(e){return{data:e,error:null}}function s_(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Pr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Od(e){return e}function i_(e){return e.access_token&&e.refresh_token&&e.expires_in}const wa=["global","local","others"];class o_{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Mp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=wa[0]){if(wa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wa.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Wt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Pr(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Od});if(c.error)throw c.error;const h=await c.json(),m=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(x.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$n(t);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){$n(t);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Wt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){$n(t);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Wt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){$n(t.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(t){$n(t.userId),$n(t.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Od});if(c.error)throw c.error;const h=await c.json(),m=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(x.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Ad(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Un={debug:!!(globalThis&&Up()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a_ extends zp{}async function l_(e,t,n){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Un.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function u_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function c_(e){return parseInt(e,16)}function d_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function h_(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Fp(e.address),x=c?`${c}://${r}`:r,w=e.statement?`${e.statement}
`:"",g=`${x} wants you to sign in with your Ethereum account:
${y}

${w}`;let p=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);f+=`
- ${v}`}p+=f}return`${g}
${p}`}class oe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class io extends oe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function f_({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Bp(o)){if(i.rp.id!==o)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function p_({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Bp(r)){if(n.rpId!==r)return new oe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class m_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const g_=new m_;function v_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Pr(e,["challenge","user","excludeCredentials"]),i=hr(t).buffer,o=Object.assign(Object.assign({},n),{id:hr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:hr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function y_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Pr(e,["challenge","allowCredentials"]),s=hr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:hr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function w_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function __(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xn(new Uint8Array(s.authenticatorData)),clientDataJSON:xn(new Uint8Array(s.clientDataJSON)),signature:xn(new Uint8Array(s.signature)),userHandle:s.userHandle?xn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Id(){var e,t;return!!(ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function x_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new io("Browser returned unexpected credential type",t)}:{data:null,error:new io("Empty credential response",t)}}catch(t){return{data:null,error:f_({error:t,options:e})}}}async function b_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new io("Browser returned unexpected credential type",t)}:{data:null,error:new io("Empty credential response",t)}}catch(t){return{data:null,error:p_({error:t,options:e})}}}const S_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=oo(a,o):r[i]=oo(o)}else r[i]=o}return r}function E_(e,t){return oo(S_,e,t||{})}function C_(e,t){return oo(k_,e,t||{})}class N_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const u=s??g_.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const h=r;if(h)c.name=`${c.id}:${h}`;else{const y=(await this.client.getUser()).data.user,x=((o=y==null?void 0:y.user_metadata)===null||o===void 0?void 0:o.name)||(y==null?void 0:y.email)||(y==null?void 0:y.id)||"User";c.name=`${c.id}:${x}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=E_(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:m}=await x_({publicKey:c,signal:u});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const c=C_(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:m}=await b_(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new vn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Rs("rpId is required for WebAuthn authentication")};try{if(!Id())return{data:null,error:new vn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new vn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Rs("rpId is required for WebAuthn registration")};try{if(!Id())return{data:null,error:new vn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new vn("Unexpected error in register",o)}}}}u_();const j_={url:k0,storageKey:E0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ld(e,t,n){return await n()}const Mn={};class Ps{get jwks(){var t,n;return(n=(t=Mn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Mn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},j_),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Ps.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new o_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Mp(i.fetch),this.lock=i.lock||Ld,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l_:this.lock=Ld,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new N_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Up()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ve()&&(n=z0(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ve()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),P0(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?this._returnResult({error:n}):this._returnResult({error:new vn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:m}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Dn(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:c,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:Ye})}else if("phone"in t){const{phone:c,password:h,options:m}=t;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ye})}else throw new ci("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ge(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pd})}else throw new ci("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ln;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,h,m;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:p,options:f}=t;let v;if(ve())if(typeof g=="object")v=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")v=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const b=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Fp(S[0]);let E=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const P=await v.request({method:"eth_chainId"});E=c_(P)}const C={domain:b.host,address:k,statement:p,uri:b.href,version:"1",chainId:E,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};y=h_(C),x=await v.request({method:"personal_sign",params:[d_(y),k]})}try{const{data:w,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ye});if(g)throw g;if(!w||!w.session||!w.user){const p=new Ln;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,h,m,y;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:g,wallet:p,statement:f,options:v}=t;let b;if(ve())if(typeof p=="object")b=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:g,error:p}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:xn(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ye});if(p)throw p;if(!g||!g.session||!g.user){const f=new Ln;return this._returnResult({data:{user:null,session:null},error:f})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:p})}catch(g){if(O(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const n=await hn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new O0;const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ye});if(await ge(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ye}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Ln;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Dn(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ci("You must provide either an email or phone number.")}catch(a){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ye});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Dn(this.storage,this.storageKey));const u=await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:r_});return!((i=u.data)===null||i===void 0)&&i.url&&ve()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new De;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(O(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ci("You must provide either an email or phone number and a type")}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ma:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await hn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ya()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Z0(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new De}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wt})})}catch(n){if(O(n))return ga(n)&&(await this._removeSession(),await ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new De;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Dn(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Wt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new De;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=hi(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new De;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ve())throw new di("No browser detected.");if(t.error||t.error_description||t.error_code)throw new di(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new di("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kd("No code detected.");const{data:f,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new di("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let m=c+h;l&&(m=parseInt(l));const y=m-c;y*1e3<=Vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=m-h;c-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,c):c-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,c);const{data:w,error:g}=await this._getUser(i);if(g)throw g;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await hn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!ga(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(R0(a)&&(a.status===404||a.status===401||a.status===403)||ga(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=M0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Dn(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ve()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(O(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ye}),{data:m,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Ln}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:y}))}catch(s){if(await ge(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W0(async s=>(s>0&&await B0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ye})),(s,i)=>{const o=200*Math.pow(2,s);return i&&va(i)&&Date.now()+o-r<Vn})}catch(r){if(this._debug(n,"error",r),O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ve()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await hn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await qn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ya()}else if(s&&!s.user&&!s.user){const o=await hn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ge(this.storage,this.storageKey+"-user"),await qn(this.storage,this.storageKey,s)):s.user=ya()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ma;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ma}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),va(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new De;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Io;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new De;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),O(i)){const o={data:null,error:i};return va(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ge(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Td(s);await qn(this.storage,this.storageKey,i)}else{const s=Td(n);await qn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ge(this.storage,this.storageKey),await ge(this.storage,this.storageKey+"-code-verifier"),await ge(this.storage,this.storageKey+"-user"),this.userStorage&&await ge(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vn}ms, refresh threshold is ${Ol} ticks`),s<=Ol&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?w_(t.webauthn.credential_response):__(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:v_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:y_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:y}=hi(t);let x=null;y.aal&&(x=y.aal);let w=x;const{data:{user:g},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((r=(n=g==null?void 0:g.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const v=y.amr||[];return{data:{currentLevel:x,nextLevel:w,currentAuthenticationMethods:v},error:null}}catch(y){if(O(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hi(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new De})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new De});const o=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new De});const o=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await I(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new De})})}catch(t){if(O(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await I(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new De})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+j0>s)return r;const{data:i,error:o}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:x}=await this.getSession();if(x||!y.session)return this._returnResult({data:null,error:x});r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=hi(r);n!=null&&n.allowExpired||Q0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=Y0(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,$0(`${a}.${l}`)))throw new Ll("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}}Ps.nextInstanceID={};const T_=Ps,R_="2.94.1";let Jr="";typeof Deno<"u"?Jr="deno":typeof document<"u"?Jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jr="react-native":Jr="node";const P_={"X-Client-Info":`supabase-js-${Jr}/${R_}`},O_={headers:P_},A_={schema:"public"},I_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L_={};function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function D_(e,t){if(Os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $_(e){var t=D_(e,"string");return Os(t)=="symbol"?t:t+""}function U_(e,t,n){return(t=$_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dd(Object(n),!0).forEach(function(r){U_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const M_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z_=()=>Headers,F_=(e,t,n)=>{const r=M_(n),s=z_();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,te(te({},o),{},{headers:u}))}};function B_(e){return e.endsWith("/")?e:e+"/"}function W_(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,m={db:te(te({},l),s),auth:te(te({},u),i),realtime:te(te({},c),o),storage:{},global:te(te(te({},h),a),{},{headers:te(te({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function V_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var q_=class extends T_{constructor(e){super(e)}},H_=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=V_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:A_,realtime:L_,auth:te(te({},I_),{},{storageKey:o}),global:O_},l=W_(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=F_(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Rw(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new S0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new bw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q_({url:this.authUrl.href,headers:te(te({},m),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kw(this.realtimeUrl.href,te(te({},e),{},{params:te(te({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const K_=(e,t,n)=>new H_(e,t,n);function G_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}G_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J_="https://yifhsjmfjqegsyqygzql.supabase.co",Q_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpZmhzam1manFlZ3N5cXlnenFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyODc3ODIsImV4cCI6MjA4NTg2Mzc4Mn0.-gJMgpfPnQ03XQq6P9oEeZB0E_FGwtABRudCoxj8o3k",z=K_(String(J_),String(Q_)),Wp=_.createContext(void 0),Y_=({children:e})=>{const[t,n]=_.useState(null);_.useEffect(()=>{const l=async()=>{var c;try{const{data:h,error:m}=await z.auth.getSession();if(m){const g=String((m==null?void 0:m.message)??m);if(/invalid refresh token/i.test(g)){await z.auth.signOut(),n(null);return}console.warn("supabase.auth.getSession error:",m),n(null);return}const y=h.session;if(!(y!=null&&y.user)){n(null);return}let{data:x}=await z.from("profiles").select("id, full_name, role").eq("id",y.user.id).maybeSingle();const w=((c=y.user.user_metadata)==null?void 0:c.full_name)??y.user.email??"Member";if(!x){const{data:g}=await z.from("profiles").upsert({id:y.user.id,full_name:w,email:y.user.email??"",role:"member"}).select("id, full_name, role").maybeSingle();g&&(x=g)}n({id:y.user.id,name:(x==null?void 0:x.full_name)??w,role:(x==null?void 0:x.role)??"member",token:y.access_token,apiToken:void 0}),(async()=>{try{return;try{if(!(await fetch(`${p}/health`,{method:"GET"})).ok)return}catch{return}try{const f=await fetch(`${p}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y.user.email})});if(!f.ok)return;const b=(await f.json()).token;n(S=>S&&{...S,apiToken:b})}catch{}}catch(g){console.debug("backend auth login skipped or failed",g)}})()}catch(h){const m=String((h==null?void 0:h.message)??h);/invalid refresh token/i.test(m)&&await z.auth.signOut(),console.warn("loadSession failed:",h),n(null)}};l();const{data:u}=z.auth.onAuthStateChange(()=>{l()});return()=>{u.subscription.unsubscribe()}},[]);const r=async(l,u)=>{const{error:c}=await z.auth.signInWithPassword({email:l,password:u});if(c)throw c},s=async(l,u,c)=>{const{error:h}=await z.auth.signUp({email:u,password:c,options:{data:{full_name:l}}});if(h)throw h},i=async()=>{await z.auth.signOut(),n(null)},o=async()=>{if(!t)throw new Error("You must be logged in to request admin access.");const{error:l}=await z.from("admin_requests").insert({user_id:t.id,status:"pending"});if(l&&l.code!=="23505")throw l},a=_.useMemo(()=>({user:t,login:r,register:s,logout:i,requestAdmin:o}),[t]);return d.jsx(Wp.Provider,{value:a,children:e})},ot=()=>{const e=_.useContext(Wp);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},X_=()=>d.jsx("img",{src:"/EE_24/ee-logo.jpg",alt:"EE Logo",className:"h-10 w-10 mr-2",style:{display:"inline-block"}}),Vp=({isAdmin:e})=>{const{user:t,logout:n}=ot();return d.jsx("header",{className:`border-b border-white/10 backdrop-blur-glass bg-white/5 sticky top-0 z-40 ${e?"admin-navbar":""}`,children:d.jsxs("div",{className:"container-page h-16 flex items-center px-1 md:px-2",role:"navigation","aria-label":"Main navigation",children:[d.jsx(X_,{}),d.jsx(Rr,{to:"/",className:"font-semibold text-lg tracking-wide text-left mr-auto","aria-label":"Home",children:"Electrical Engineering_23"}),d.jsxs("nav",{className:"flex items-center gap-2 lg:gap-4 text-sm ml-auto","aria-label":"User menu",children:[d.jsx(dd,{to:"/",className:({isActive:r})=>r?"text-neon-blue":"text-white/80 hover:text-white",children:"Dashboard"}),(t==null?void 0:t.role)==="super_admin"&&d.jsx(dd,{to:"/admin/requests",className:({isActive:r})=>r?"text-neon-purple":"text-white/80 hover:text-white",children:"Control"}),t?d.jsx("button",{className:"btn-download btn-danger",style:{minWidth:0,padding:"0.5rem 1rem",borderRadius:"0.75rem",fontWeight:600},onClick:n,children:"Logout"}):null]})]})})},qp=()=>d.jsx("footer",{className:"border-t border-white/10 bg-white/5",children:d.jsxs("div",{className:"container-page py-6 flex flex-col md:flex-row gap-2 items-center justify-between text-sm text-white/70",role:"contentinfo","aria-label":"Footer",children:[d.jsx("span",{children:" EE_23"}),d.jsx("span",{children:"Mini Moodle  secure learning hub"}),d.jsx("span",{"aria-label":"Phone",children:" Aacaas - 0774118656"})]})}),Z_=()=>d.jsxs("div",{className:"min-h-screen flex flex-col",style:{minHeight:"100vh"},children:[d.jsx(Vp,{}),d.jsx("main",{className:"flex-1 container-page py-8",style:{flex:1},children:d.jsx(Ep,{})}),d.jsx(qp,{})]}),ex=()=>d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Vp,{isAdmin:!0}),d.jsx("main",{className:"flex-1 admin-full py-4 lg:py-8",children:d.jsx("div",{className:"glass-card p-2 lg:p-6 min-h-[60vh]",children:d.jsx(Ep,{})})}),d.jsx(qp,{})]});function Hp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Hp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Kp(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Hp(e))&&(r&&(r+=" "),r+=t);return r}const Fu="-",tx=e=>{const t=rx(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Fu);return a[0]===""&&a.length!==1&&a.shift(),Gp(a,t)||nx(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Gp=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Gp(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Fu);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},$d=/^\[(.+)\]$/,nx=e=>{if($d.test(e)){const t=$d.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},rx=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ix(Object.entries(e.classGroups),n).forEach(([i,o])=>{Dl(o,r,i,t)}),r},Dl=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ud(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(sx(s)){Dl(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Dl(o,Ud(t,i),n,r)})})},Ud=(e,t)=>{let n=e;return t.split(Fu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sx=e=>e.isThemeGetter,ix=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,ox=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Jp="!",ax=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,c=0,h;for(let g=0;g<a.length;g++){let p=a[g];if(u===0){if(p===s&&(r||a.slice(g,g+i)===t)){l.push(a.slice(c,g)),c=g+i;continue}if(p==="/"){h=g;continue}}p==="["?u++:p==="]"&&u--}const m=l.length===0?a:a.substring(c),y=m.startsWith(Jp),x=y?m.substring(1):m,w=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},lx=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},ux=e=>({cache:ox(e.cacheSize),parseClassName:ax(e),...tx(e)}),cx=/\s+/,dx=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(cx);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=n(u);let x=!!y,w=r(x?m.substring(0,y):m);if(!w){if(!x){a=u+(a.length>0?" "+a:a);continue}if(w=r(m),!w){a=u+(a.length>0?" "+a:a);continue}x=!1}const g=lx(c).join(":"),p=h?g+Jp:g,f=p+w;if(i.includes(f))continue;i.push(f);const v=s(w,x);for(let b=0;b<v.length;++b){const S=v[b];i.push(p+S)}a=u+(a.length>0?" "+a:a)}return a};function hx(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Qp(t))&&(r&&(r+=" "),r+=n);return r}const Qp=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Qp(e[r]))&&(n&&(n+=" "),n+=t);return n};function fx(e,...t){let n,r,s,i=o;function o(l){const u=t.reduce((c,h)=>h(c),e());return n=ux(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=dx(l,n);return s(l,c),c}return function(){return i(hx.apply(null,arguments))}}const K=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Yp=/^\[(?:([a-z-]+):)?(.+)\]$/i,px=/^\d+\/\d+$/,mx=new Set(["px","full","screen"]),gx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_x=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gt=e=>fr(e)||mx.has(e)||px.test(e),Lt=e=>Ar(e,"length",jx),fr=e=>!!e&&!Number.isNaN(Number(e)),_a=e=>Ar(e,"number",fr),Wr=e=>!!e&&Number.isInteger(Number(e)),xx=e=>e.endsWith("%")&&fr(e.slice(0,-1)),$=e=>Yp.test(e),Dt=e=>gx.test(e),bx=new Set(["length","size","percentage"]),Sx=e=>Ar(e,bx,Xp),kx=e=>Ar(e,"position",Xp),Ex=new Set(["image","url"]),Cx=e=>Ar(e,Ex,Rx),Nx=e=>Ar(e,"",Tx),Vr=()=>!0,Ar=(e,t,n)=>{const r=Yp.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},jx=e=>vx.test(e)&&!yx.test(e),Xp=()=>!1,Tx=e=>wx.test(e),Rx=e=>_x.test(e),Px=()=>{const e=K("colors"),t=K("spacing"),n=K("blur"),r=K("brightness"),s=K("borderColor"),i=K("borderRadius"),o=K("borderSpacing"),a=K("borderWidth"),l=K("contrast"),u=K("grayscale"),c=K("hueRotate"),h=K("invert"),m=K("gap"),y=K("gradientColorStops"),x=K("gradientColorStopPositions"),w=K("inset"),g=K("margin"),p=K("opacity"),f=K("padding"),v=K("saturate"),b=K("scale"),S=K("sepia"),k=K("skew"),E=K("space"),C=K("translate"),P=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",$,t],M=()=>[$,t],xe=()=>["",gt,Lt],ie=()=>["auto",fr,$],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",$],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[fr,$];return{cacheSize:500,separator:":",theme:{colors:[Vr],spacing:[gt,Lt],blur:["none","",Dt,$],brightness:U(),borderColor:[e],borderRadius:["none","","full",Dt,$],borderSpacing:M(),borderWidth:xe(),contrast:U(),grayscale:A(),hueRotate:U(),invert:A(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[xx,Lt],inset:W(),margin:W(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:A(),skew:U(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[Dt]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),$]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wr,$]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Wr,$]}],"grid-cols":[{"grid-cols":[Vr]}],"col-start-end":[{col:["auto",{span:["full",Wr,$]},$]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[Vr]}],"row-start-end":[{row:["auto",{span:[Wr,$]},$]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[Dt]},Dt]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dt,Lt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_a]}],"font-family":[{font:[Vr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",fr,_a]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,Lt]}],"underline-offset":[{"underline-offset":["auto",gt,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),kx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:me()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[gt,$]}],"outline-w":[{outline:[gt,Lt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[gt,Lt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dt,Nx]}],"shadow-color":[{shadow:[Vr]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Dt,$]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Wr,$]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gt,Lt,_a]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ox=fx(Px),Pt=(...e)=>Ox(Kp(e)),St=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pt("glass-card",e),...t}));St.displayName="Card";const As=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pt("p-6 pb-2",e),...t}));As.displayName="CardHeader";const pr=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pt("p-6 pt-2",e),...t}));pr.displayName="CardContent";function nn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Md(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lo(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Md(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Md(e[s],null)}}}}function On(...e){return _.useCallback(Lo(...e),e)}function Ax(e,t){const n=_.createContext(t),r=i=>{const{children:o,...a}=i,l=_.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=_.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ix(e,t=[]){let n=[];function r(i,o){const a=_.createContext(o),l=n.length;n=[...n,o];const u=h=>{var p;const{scope:m,children:y,...x}=h,w=((p=m==null?void 0:m[e])==null?void 0:p[l])||a,g=_.useMemo(()=>x,Object.values(x));return d.jsx(w.Provider,{value:g,children:y})};u.displayName=i+"Provider";function c(h,m){var w;const y=((w=m==null?void 0:m[e])==null?void 0:w[l])||a,x=_.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=n.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,Lx(s,...t)]}function Lx(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Is=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Dx=ho[" useId ".trim().toString()]||(()=>{}),$x=0;function xa(e){const[t,n]=_.useState(Dx());return Is(()=>{n(r=>r??String($x++))},[e]),e||(t?`radix-${t}`:"")}var Ux=ho[" useInsertionEffect ".trim().toString()]||Is;function Mx({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=zx({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const c=_.useRef(e!==void 0);_.useEffect(()=>{const h=c.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const u=_.useCallback(c=>{var h;if(a){const m=Fx(c)?c(e):c;m!==e&&((h=o.current)==null||h.call(o,m))}else i(c)},[a,e,i,o]);return[l,u]}function zx({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),s=_.useRef(n),i=_.useRef(t);return Ux(()=>{i.current=t},[t]),_.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Fx(e){return typeof e=="function"}function Bx(e){const t=Wx(e),n=_.forwardRef((r,s)=>{const{children:i,...o}=r,a=_.Children.toArray(i),l=a.find(qx);if(l){const u=l.props.children,c=a.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return d.jsx(t,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,c):null})}return d.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Wx(e){const t=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const o=Kx(s),a=Hx(i,s.props);return s.type!==_.Fragment&&(a.ref=r?Lo(r,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vx=Symbol("radix.slottable");function qx(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vx}function Hx(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Kx(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Gx=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=Gx.reduce((e,t)=>{const n=Bx(`Primitive.${t}`),r=_.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Jx(e,t){e&&Lu.flushSync(()=>e.dispatchEvent(t))}function Ls(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Qx(e,t=globalThis==null?void 0:globalThis.document){const n=Ls(e);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Yx="DismissableLayer",$l="dismissableLayer.update",Xx="dismissableLayer.pointerDownOutside",Zx="dismissableLayer.focusOutside",zd,Zp=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),em=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=_.useContext(Zp),[c,h]=_.useState(null),m=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),x=On(t,E=>h(E)),w=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=w.indexOf(g),f=c?w.indexOf(c):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,b=f>=p,S=nb(E=>{const C=E.target,P=[...u.branches].some(j=>j.contains(C));!b||P||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},m),k=rb(E=>{const C=E.target;[...u.branches].some(j=>j.contains(C))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},m);return Qx(E=>{f===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},m),_.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zd=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Fd(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=zd)}},[c,m,n,u]),_.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Fd())},[c,u]),_.useEffect(()=>{const E=()=>y({});return document.addEventListener($l,E),()=>document.removeEventListener($l,E)},[]),d.jsx(Ot.div,{...l,ref:x,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:nn(e.onFocusCapture,k.onFocusCapture),onBlurCapture:nn(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:nn(e.onPointerDownCapture,S.onPointerDownCapture)})});em.displayName=Yx;var eb="DismissableLayerBranch",tb=_.forwardRef((e,t)=>{const n=_.useContext(Zp),r=_.useRef(null),s=On(t,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ot.div,{...e,ref:s})});tb.displayName=eb;function nb(e,t=globalThis==null?void 0:globalThis.document){const n=Ls(e),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){tm(Xx,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function rb(e,t=globalThis==null?void 0:globalThis.document){const n=Ls(e),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&tm(Zx,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fd(){const e=new CustomEvent($l);document.dispatchEvent(e)}function tm(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Jx(s,i):s.dispatchEvent(i)}var ba="focusScope.autoFocusOnMount",Sa="focusScope.autoFocusOnUnmount",Bd={bubbles:!1,cancelable:!0},sb="FocusScope",nm=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=_.useState(null),u=Ls(s),c=Ls(i),h=_.useRef(null),m=On(t,w=>l(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(v){if(y.paused||!a)return;const b=v.target;a.contains(b)?h.current=b:$t(h.current,{select:!0})},g=function(v){if(y.paused||!a)return;const b=v.relatedTarget;b!==null&&(a.contains(b)||$t(h.current,{select:!0}))},p=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&$t(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",g);const f=new MutationObserver(p);return a&&f.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",g),f.disconnect()}}},[r,a,y.paused]),_.useEffect(()=>{if(a){Vd.add(y);const w=document.activeElement;if(!a.contains(w)){const p=new CustomEvent(ba,Bd);a.addEventListener(ba,u),a.dispatchEvent(p),p.defaultPrevented||(ib(cb(rm(a)),{select:!0}),document.activeElement===w&&$t(a))}return()=>{a.removeEventListener(ba,u),setTimeout(()=>{const p=new CustomEvent(Sa,Bd);a.addEventListener(Sa,c),a.dispatchEvent(p),p.defaultPrevented||$t(w??document.body,{select:!0}),a.removeEventListener(Sa,c),Vd.remove(y)},0)}}},[a,u,c,y]);const x=_.useCallback(w=>{if(!n&&!r||y.paused)return;const g=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,p=document.activeElement;if(g&&p){const f=w.currentTarget,[v,b]=ob(f);v&&b?!w.shiftKey&&p===b?(w.preventDefault(),n&&$t(v,{select:!0})):w.shiftKey&&p===v&&(w.preventDefault(),n&&$t(b,{select:!0})):p===f&&w.preventDefault()}},[n,r,y.paused]);return d.jsx(Ot.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});nm.displayName=sb;function ib(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($t(r,{select:t}),document.activeElement!==n)return}function ob(e){const t=rm(e),n=Wd(t,e),r=Wd(t.reverse(),e);return[n,r]}function rm(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wd(e,t){for(const n of e)if(!ab(n,{upTo:t}))return n}function ab(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lb(e){return e instanceof HTMLInputElement&&"select"in e}function $t(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lb(e)&&t&&e.select()}}var Vd=ub();function ub(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qd(e,t),e.unshift(t)},remove(t){var n;e=qd(e,t),(n=e[0])==null||n.resume()}}}function qd(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cb(e){return e.filter(t=>t.tagName!=="A")}var db="Portal",sm=_.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=_.useState(!1);Is(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dy.createPortal(d.jsx(Ot.div,{...r,ref:t}),o):null});sm.displayName=db;function hb(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Do=e=>{const{present:t,children:n}=e,r=fb(t),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=On(r.ref,pb(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};Do.displayName="Presence";function fb(e){const[t,n]=_.useState(),r=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[a,l]=hb(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=fi(r.current);i.current=a==="mounted"?u:"none"},[a]),Is(()=>{const u=r.current,c=s.current;if(c!==e){const m=i.current,y=fi(u);e?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Is(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,h=y=>{const w=fi(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&w&&(l("ANIMATION_END"),!s.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=y=>{y.target===t&&(i.current=fi(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function fi(e){return(e==null?void 0:e.animationName)||"none"}function pb(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ka=0;function mb(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hd()),document.body.insertAdjacentElement("beforeend",e[1]??Hd()),ka++,()=>{ka===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ka--}},[])}function Hd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ri="right-scroll-bar-position",Pi="width-before-scroll-bar",gb="with-scroll-bars-hidden",vb="--removed-body-scroll-bar-size";function Ea(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yb(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var wb=typeof window<"u"?_.useLayoutEffect:_.useEffect,Kd=new WeakMap;function _b(e,t){var n=yb(null,function(r){return e.forEach(function(s){return Ea(s,r)})});return wb(function(){var r=Kd.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Ea(a,null)}),i.forEach(function(a){s.has(a)||Ea(a,o)})}Kd.set(n,e)},[e]),n}function xb(e){return e}function bb(e,t){t===void 0&&(t=xb);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var c=o;o=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return s}function Sb(e){e===void 0&&(e={});var t=bb(null);return t.options=ht({async:!0,ssr:!1},e),t}var im=function(e){var t=e.sideCar,n=Pr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,ht({},n))};im.isSideCarExport=!0;function kb(e,t){return e.useMedium(t),im}var om=Sb(),Ca=function(){},$o=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:Ca,onWheelCapture:Ca,onTouchMoveCapture:Ca}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,h=e.shards,m=e.sideCar,y=e.noRelative,x=e.noIsolation,w=e.inert,g=e.allowPinchZoom,p=e.as,f=p===void 0?"div":p,v=e.gapMode,b=Pr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,k=_b([n,t]),E=ht(ht({},b),s);return _.createElement(_.Fragment,null,c&&_.createElement(S,{sideCar:om,removeScrollBar:u,shards:h,noRelative:y,noIsolation:x,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?_.cloneElement(_.Children.only(a),ht(ht({},E),{ref:k})):_.createElement(f,ht({},E,{className:l,ref:k}),a))});$o.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$o.classNames={fullWidth:Pi,zeroRight:Ri};var Eb=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cb(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Eb();return t&&e.setAttribute("nonce",t),e}function Nb(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jb(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Tb=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Cb())&&(Nb(t,n),jb(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rb=function(){var e=Tb();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},am=function(){var e=Rb(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Pb={left:0,top:0,right:0,gap:0},Na=function(e){return parseInt(e||"",10)||0},Ob=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Na(n),Na(r),Na(s)]},Ab=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pb;var t=Ob(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ib=am(),mr="data-scroll-locked",Lb=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(gb,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(mr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ri,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pi,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ri," .").concat(Ri,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pi," .").concat(Pi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mr,`] {
    `).concat(vb,": ").concat(a,`px;
  }
`)},Gd=function(){var e=parseInt(document.body.getAttribute(mr)||"0",10);return isFinite(e)?e:0},Db=function(){_.useEffect(function(){return document.body.setAttribute(mr,(Gd()+1).toString()),function(){var e=Gd()-1;e<=0?document.body.removeAttribute(mr):document.body.setAttribute(mr,e.toString())}},[])},$b=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Db();var i=_.useMemo(function(){return Ab(s)},[s]);return _.createElement(Ib,{styles:Lb(i,!t,s,n?"":"!important")})},Ul=!1;if(typeof window<"u")try{var pi=Object.defineProperty({},"passive",{get:function(){return Ul=!0,!0}});window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Ul=!1}var zn=Ul?{passive:!1}:!1,Ub=function(e){return e.tagName==="TEXTAREA"},lm=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ub(e)&&n[t]==="visible")},Mb=function(e){return lm(e,"overflowY")},zb=function(e){return lm(e,"overflowX")},Jd=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=um(e,r);if(s){var i=cm(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fb=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Bb=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},um=function(e,t){return e==="v"?Mb(t):zb(t)},cm=function(e,t){return e==="v"?Fb(t):Bb(t)},Wb=function(e,t){return e==="h"&&t==="rtl"?-1:1},Vb=function(e,t,n,r,s){var i=Wb(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),u=!1,c=o>0,h=0,m=0;do{if(!a)break;var y=cm(e,a),x=y[0],w=y[1],g=y[2],p=w-g-i*x;(x||p)&&um(e,a)&&(h+=p,m+=x);var f=a.parentNode;a=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(h)<1||!c&&Math.abs(m)<1)&&(u=!0),u},mi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qd=function(e){return[e.deltaX,e.deltaY]},Yd=function(e){return e&&"current"in e?e.current:e},qb=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Hb=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Kb=0,Fn=[];function Gb(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(Kb++)[0],i=_.useState(am)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=ww([e.lockRef.current],(e.shards||[]).map(Yd),!0).filter(Boolean);return w.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=_.useCallback(function(w,g){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var p=mi(w),f=n.current,v="deltaX"in w?w.deltaX:f[0]-p[0],b="deltaY"in w?w.deltaY:f[1]-p[1],S,k=w.target,E=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in w&&E==="h"&&k.type==="range")return!1;var C=window.getSelection(),P=C&&C.anchorNode,j=P?P===k||P.contains(k):!1;if(j)return!1;var W=Jd(E,k);if(!W)return!0;if(W?S=E:(S=E==="v"?"h":"v",W=Jd(E,k)),!W)return!1;if(!r.current&&"changedTouches"in w&&(v||b)&&(r.current=S),!S)return!0;var M=r.current||S;return Vb(M,g,w,M==="h"?v:b)},[]),l=_.useCallback(function(w){var g=w;if(!(!Fn.length||Fn[Fn.length-1]!==i)){var p="deltaY"in g?Qd(g):mi(g),f=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&qb(S.delta,p)})[0];if(f&&f.should){g.cancelable&&g.preventDefault();return}if(!f){var v=(o.current.shards||[]).map(Yd).filter(Boolean).filter(function(S){return S.contains(g.target)}),b=v.length>0?a(g,v[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),u=_.useCallback(function(w,g,p,f){var v={name:w,delta:g,target:p,should:f,shadowParent:Jb(p)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),c=_.useCallback(function(w){n.current=mi(w),r.current=void 0},[]),h=_.useCallback(function(w){u(w.type,Qd(w),w.target,a(w,e.lockRef.current))},[]),m=_.useCallback(function(w){u(w.type,mi(w),w.target,a(w,e.lockRef.current))},[]);_.useEffect(function(){return Fn.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,zn),document.addEventListener("touchmove",l,zn),document.addEventListener("touchstart",c,zn),function(){Fn=Fn.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,zn),document.removeEventListener("touchmove",l,zn),document.removeEventListener("touchstart",c,zn)}},[]);var y=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(i,{styles:Hb(s)}):null,y?_.createElement($b,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Jb(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Qb=kb(om,Gb);var dm=_.forwardRef(function(e,t){return _.createElement($o,ht({},e,{ref:t,sideCar:Qb}))});dm.classNames=$o.classNames;var Yb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bn=new WeakMap,gi=new WeakMap,vi={},ja=0,hm=function(e){return e&&(e.host||hm(e.parentNode))},Xb=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hm(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Zb=function(e,t,n,r){var s=Xb(t,Array.isArray(e)?e:[e]);vi[n]||(vi[n]=new WeakMap);var i=vi[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var c=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))c(m);else try{var y=m.getAttribute(r),x=y!==null&&y!=="false",w=(Bn.get(m)||0)+1,g=(i.get(m)||0)+1;Bn.set(m,w),i.set(m,g),o.push(m),w===1&&x&&gi.set(m,!0),g===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return c(t),a.clear(),ja++,function(){o.forEach(function(h){var m=Bn.get(h)-1,y=i.get(h)-1;Bn.set(h,m),i.set(h,y),m||(gi.has(h)||h.removeAttribute(r),gi.delete(h)),y||h.removeAttribute(n)}),ja--,ja||(Bn=new WeakMap,Bn=new WeakMap,gi=new WeakMap,vi={})}},eS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Yb(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Zb(r,s,n,"aria-hidden")):function(){return null}};function tS(e){const t=nS(e),n=_.forwardRef((r,s)=>{const{children:i,...o}=r,a=_.Children.toArray(i),l=a.find(sS);if(l){const u=l.props.children,c=a.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return d.jsx(t,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,c):null})}return d.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function nS(e){const t=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const o=oS(s),a=iS(i,s.props);return s.type!==_.Fragment&&(a.ref=r?Lo(r,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rS=Symbol("radix.slottable");function sS(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rS}function iS(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function oS(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Uo="Dialog",[fm]=Ix(Uo),[aS,at]=fm(Uo),pm=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=_.useRef(null),l=_.useRef(null),[u,c]=Mx({prop:r,defaultProp:s??!1,onChange:i,caller:Uo});return d.jsx(aS,{scope:t,triggerRef:a,contentRef:l,contentId:xa(),titleId:xa(),descriptionId:xa(),open:u,onOpenChange:c,onOpenToggle:_.useCallback(()=>c(h=>!h),[c]),modal:o,children:n})};pm.displayName=Uo;var mm="DialogTrigger",gm=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=at(mm,n),i=On(t,s.triggerRef);return d.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vu(s.open),...r,ref:i,onClick:nn(e.onClick,s.onOpenToggle)})});gm.displayName=mm;var Bu="DialogPortal",[lS,vm]=fm(Bu,{forceMount:void 0}),ym=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=at(Bu,t);return d.jsx(lS,{scope:t,forceMount:n,children:_.Children.map(r,o=>d.jsx(Do,{present:n||i.open,children:d.jsx(sm,{asChild:!0,container:s,children:o})}))})};ym.displayName=Bu;var ao="DialogOverlay",wm=_.forwardRef((e,t)=>{const n=vm(ao,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=at(ao,e.__scopeDialog);return i.modal?d.jsx(Do,{present:r||i.open,children:d.jsx(cS,{...s,ref:t})}):null});wm.displayName=ao;var uS=tS("DialogOverlay.RemoveScroll"),cS=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=at(ao,n);return d.jsx(dm,{as:uS,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ot.div,{"data-state":Vu(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Tn="DialogContent",_m=_.forwardRef((e,t)=>{const n=vm(Tn,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=at(Tn,e.__scopeDialog);return d.jsx(Do,{present:r||i.open,children:i.modal?d.jsx(dS,{...s,ref:t}):d.jsx(hS,{...s,ref:t})})});_m.displayName=Tn;var dS=_.forwardRef((e,t)=>{const n=at(Tn,e.__scopeDialog),r=_.useRef(null),s=On(t,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return eS(i)},[]),d.jsx(xm,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nn(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:nn(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:nn(e.onFocusOutside,i=>i.preventDefault())})}),hS=_.forwardRef((e,t)=>{const n=at(Tn,e.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return d.jsx(xm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xm=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=at(Tn,n),l=_.useRef(null),u=On(t,l);return mb(),d.jsxs(d.Fragment,{children:[d.jsx(nm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(em,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Vu(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(fS,{titleId:a.titleId}),d.jsx(mS,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Wu="DialogTitle",bm=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=at(Wu,n);return d.jsx(Ot.h2,{id:s.titleId,...r,ref:t})});bm.displayName=Wu;var Sm="DialogDescription",km=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=at(Sm,n);return d.jsx(Ot.p,{id:s.descriptionId,...r,ref:t})});km.displayName=Sm;var Em="DialogClose",Cm=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=at(Em,n);return d.jsx(Ot.button,{type:"button",...r,ref:t,onClick:nn(e.onClick,()=>s.onOpenChange(!1))})});Cm.displayName=Em;function Vu(e){return e?"open":"closed"}var Nm="DialogTitleWarning",[XS,jm]=Ax(Nm,{contentName:Tn,titleName:Wu,docsSlug:"dialog"}),fS=({titleId:e})=>{const t=jm(Nm),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},pS="DialogDescriptionWarning",mS=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jm(pS).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},gS=pm,vS=gm,yS=ym,Tm=wm,Rm=_m,Pm=bm,Om=km,wS=Cm;const Am=gS,Im=vS,_S=yS,xS=wS,Lm=_.forwardRef(({className:e,...t},n)=>d.jsx(Tm,{ref:n,className:Pt("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",e),...t}));Lm.displayName=Tm.displayName;const qu=_.forwardRef(({className:e,...t},n)=>d.jsxs(_S,{children:[d.jsx(Lm,{}),d.jsx(Rm,{ref:n,className:Pt("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 glass-card p-6 max-h-[80vh] overflow-y-auto",e),...t})]}));qu.displayName=Rm.displayName;const Dm=({className:e,...t})=>d.jsx("div",{className:Pt("flex flex-col gap-1",e),...t}),Hu=_.forwardRef(({className:e,...t},n)=>d.jsx(Pm,{ref:n,className:Pt("text-lg font-semibold",e),...t}));Hu.displayName=Pm.displayName;const Ku=_.forwardRef(({className:e,...t},n)=>d.jsx(Om,{ref:n,className:Pt("text-sm text-white/70",e),...t}));Ku.displayName=Om.displayName;const Ml=[{id:"cs2833",name:"Modular Software Development",code:"CS2833",tag:"Eng-CSE",cover:"bg-[linear-gradient(135deg,rgba(0,255,214,0.35),rgba(0,132,255,0.15))]"},{id:"ee2024",name:"Electrical Machines in Power Systems",code:"EE2024",tag:"Eng-EE",cover:"bg-[radial-gradient(circle_at_20%_20%,rgba(255,255,255,0.35),rgba(255,255,255,0))]"},{id:"ee2044",name:"Electrical Measurements and Instrumentation",code:"EE2044",tag:"Eng-EE",cover:"bg-[linear-gradient(135deg,rgba(0,210,255,0.25),rgba(0,140,255,0.05))]"},{id:"ee2054",name:"Control Systems",code:"EE2054",tag:"Eng-EE",cover:"bg-[linear-gradient(135deg,rgba(0,255,214,0.2),rgba(0,255,214,0.05))]"},{id:"ee3074",name:"Electrical Installations",code:"EE3074",tag:"Eng-EE",cover:"bg-[linear-gradient(135deg,rgba(255,255,255,0.28),rgba(255,255,255,0.1))]"},{id:"ma3014",name:"Applied Statistics",code:"MA3014",tag:"Eng-MATH",cover:"bg-[radial-gradient(circle_at_80%_20%,rgba(255,255,255,0.35),rgba(255,255,255,0))]"},{id:"ma3024",name:"Numerical Methods",code:"MA3024",tag:"Eng-MATH",cover:"bg-[linear-gradient(135deg,rgba(0,210,255,0.2),rgba(0,140,255,0.1))]"},{id:"cs2023",name:"Data Structures and Algorithms",code:"CS2023",tag:"Eng-CSE",cover:"bg-[linear-gradient(135deg,rgba(255,91,216,0.18),rgba(138,77,255,0.12))]"},{id:"ma2034",name:"Linear Algebra",code:"MA2034",tag:"Eng-MATH",cover:"bg-[linear-gradient(135deg,rgba(255,255,255,0.22),rgba(0,210,255,0.10))]"}];function ir({onAdd:e,onUpdate:t,triggerClassName:n,triggerChildren:r,initialEvent:s=null}){const i=!!s,[o,a]=_.useState(""),[l,u]=_.useState(""),[c,h]=_.useState(""),[m,y]=_.useState("assignment"),{user:x}=ot(),w=v=>new Date(v.getTime()-v.getTimezoneOffset()*6e4).toISOString().slice(0,16);_.useEffect(()=>{if(s){a(s.title);const v=new Date(s.datetime);u(w(v)),h(s.module??""),y(s.kind||"assignment")}},[s]);const g=()=>{a("");const v=new Date;v.setMinutes(0,0,0),u(w(v)),h(""),y("assignment")},p=async()=>{if(!o.trim()||!l)return;const v=new Date(l);if(Number.isNaN(v.getTime())){alert("Invalid date/time");return}const b=v.getFullYear();if(b<1e3||b>9999){alert("Year must be 4 digits (YYYY)");return}const S={title:o.trim(),datetime:v.toISOString(),module:c.trim(),kind:m};try{const{data:k,error:E}=await z.from("events").insert(S).select().single();if(E){console.error(E),alert("Failed to add event");return}e==null||e(k),g()}catch(k){console.error(k),alert("Failed to add event")}},f=async()=>{if(!s)return;const v=new Date(l);if(Number.isNaN(v.getTime())){alert("Invalid date/time");return}const b=v.getFullYear();if(b<1e3||b>9999){alert("Year must be 4 digits (YYYY)");return}const S={title:o.trim(),datetime:v.toISOString(),module:c.trim(),kind:m};try{const{data:k,error:E}=await z.from("events").update(S).eq("id",s.id).select().single();if(E){console.error(E),alert("Failed to update event");return}t==null||t(k)}catch(k){console.error(k),alert("Failed to update event")}};return d.jsxs(Am,{children:[d.jsx(Im,{asChild:!0,children:d.jsx("button",{className:n??"btn-secondary px-2 py-1 text-xs",children:r??(i?"Edit":"Add event")})}),d.jsxs(qu,{children:[d.jsxs(Dm,{children:[d.jsx(Hu,{children:i?"Edit event":"Add event"}),d.jsx(Ku,{children:"Only admins and super admins can add or edit events."})]}),d.jsxs("div",{className:"mt-2 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-[140px_1fr] items-center gap-3",children:[d.jsx("div",{className:"text-sm",children:"Title"}),d.jsx("input",{className:"w-full glass-input",value:o,onChange:v=>a(v.target.value),placeholder:"Event title"})]}),d.jsxs("div",{className:"grid grid-cols-[140px_1fr] items-center gap-3",children:[d.jsx("div",{className:"text-sm",children:"Date & time"}),d.jsx("input",{type:"datetime-local",className:"w-full glass-input",value:l,onChange:v=>u(v.target.value),min:"1000-01-01T00:00",max:"9999-12-31T23:59"})]}),d.jsxs("div",{className:"grid grid-cols-[140px_1fr] items-start gap-3",children:[d.jsx("div",{className:"text-sm pt-1",children:"Module (optional)"}),d.jsxs("div",{children:[d.jsxs("select",{className:"w-full glass-input",value:c,onChange:v=>h(v.target.value),children:[d.jsx("option",{value:"",children:" None "}),Ml.map(v=>d.jsxs("option",{value:v.code,children:[v.code,"  ",v.name]},v.id)),c&&!Ml.find(v=>v.code===c)&&d.jsxs("option",{value:c,children:["(custom) ",c]})]}),d.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Choose a module from the dashboard"})]})]}),d.jsxs("div",{className:"grid grid-cols-[140px_1fr] items-center gap-3",children:[d.jsx("div",{className:"text-sm",children:"Kind"}),d.jsxs("select",{className:"w-full glass-input",value:m,onChange:v=>y(v.target.value),children:[d.jsx("option",{value:"assignment",children:"Assignment"}),d.jsx("option",{value:"quiz",children:"Quiz"}),d.jsx("option",{value:"other",children:"Other"})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[d.jsx(xS,{className:"btn-ghost px-3 py-1 text-sm",children:"Cancel"}),i?d.jsx("button",{className:"btn-secondary px-3 py-1 text-sm",onClick:async()=>{await f()},children:"Update"}):d.jsx("button",{className:"btn-secondary px-3 py-1 text-sm",onClick:async()=>{await p()},children:"Add"})]})]})]})}function lo({events:e,selectedDate:t=null,onSelectDate:n,compact:r=!1}){const[s,i]=_.useState(()=>{if(t){const p=new Date(t);return new Date(p.getFullYear(),p.getMonth(),1)}const g=new Date;return new Date(g.getFullYear(),g.getMonth(),1)});_.useEffect(()=>{if(t){const g=new Date(t);i(new Date(g.getFullYear(),g.getMonth(),1))}},[t]);const o=_.useMemo(()=>{const g=new Map;return e.forEach(p=>{if(!(p!=null&&p.datetime))return;const f=new Date(p.datetime).toDateString(),v=g.get(f)??[];v.push(p),g.set(f,v)}),g},[e]),a=_.useMemo(()=>{const g=new Set;return e.forEach(p=>{if(!(p!=null&&p.mention_date))return;const f=new Date(p.mention_date).toDateString();g.add(f)}),g},[e]),l=s.getFullYear(),u=s.getMonth(),h=new Date(l,u,1).getDay(),m=new Date(l,u+1,0).getDate(),y=[];for(let g=0;g<h;g++)y.push(null);for(let g=1;g<=m;g++)y.push(new Date(l,u,g));for(;y.length%7!==0;)y.push(null);const x=[];for(let g=0;g<y.length;g+=7)x.push(y.slice(g,g+7));const w=g=>!!t&&new Date(t).toDateString()===g.toDateString();return d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:`flex items-center justify-between mb-3 ${r?"px-1":""}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",className:"btn-ghost px-2 py-1",onClick:()=>i(new Date(l,u-1,1)),"aria-label":"Previous month",children:""}),d.jsx("div",{className:`font-semibold ${r?"text-xs":"text-sm"}`,children:s.toLocaleString(void 0,{month:"long",year:"numeric"})}),d.jsx("button",{type:"button",className:"btn-ghost px-2 py-1",onClick:()=>i(new Date(l,u+1,1)),"aria-label":"Next month",children:""})]}),!r&&d.jsxs("div",{className:"text-xs text-white/60",children:["Total events: ",e.length]})]}),d.jsx("div",{className:`grid grid-cols-7 ${r?"gap-0.5 text-[11px] text-white/60":"gap-1 text-xs text-white/60"}`,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(g=>d.jsx("div",{className:"text-center font-medium",children:r?g[0]:g},g))}),d.jsx("div",{className:`mt-2 grid grid-cols-7 ${r?"gap-0.5":"gap-1"}`,children:x.map((g,p)=>d.jsx("div",{className:"contents",children:g.map((f,v)=>{if(!f)return d.jsx("div",{className:r?"h-8 p-1 bg-transparent":"h-20 p-2 bg-white/2 rounded-sm"},v);const b=f.toDateString(),S=o.get(b)??[],k=w(f),E=a.has(b),C=S.length>0;return r?d.jsxs("button",{type:"button",className:`h-8 p-1 flex flex-col items-center justify-center rounded-sm ${k?"ring-2 ring-violet-500 bg-violet-600/20":""}`,onClick:()=>n?n(f.toISOString()):void 0,"aria-pressed":k,title:`${f.toDateString()}  ${S.length} event(s)`,children:[d.jsx("div",{className:`w-5 h-5 flex items-center justify-center text-[11px] ${k?"bg-violet-600 text-white rounded-full font-semibold":""} ${E?"ring-2 ring-red-500 rounded-full":""} ${C&&!k?"text-red-400 font-semibold":""}`,children:f.getDate()}),d.jsx("div",{className:"mt-1 flex gap-0.5",children:S.slice(0,3).map((P,j)=>d.jsx("span",{className:`w-1.5 h-1.5 rounded-full inline-block ${C?"bg-red-400":"bg-violet-500"}`},j))})]},v):d.jsxs("button",{type:"button",className:`h-20 p-2 text-left rounded-sm hover:bg-white/5 ${k?"ring-2 ring-violet-500 bg-violet-600/20":"bg-white/2"}`,onClick:()=>n?n(f.toISOString()):void 0,"aria-pressed":k,title:`${f.toDateString()}  ${S.length} event(s)`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("div",{className:`w-6 h-6 flex items-center justify-center text-xs ${k?"bg-violet-600 text-white rounded-full font-semibold":""} ${E?"ring-2 ring-red-500 rounded-full":""} ${C&&!k?"text-red-400 font-semibold":""}`,children:f.getDate()}),S.length>0&&d.jsx("div",{className:`text-xs ${C?"text-red-400":"text-white/70"}`,children:S.length})]}),d.jsxs("div",{className:"mt-1 text-xs text-white/60 overflow-hidden",children:[S.slice(0,2).map((P,j)=>d.jsx("div",{className:"truncate leading-4 text-[11px]",children:P.title},j)),S.length>2&&d.jsxs("div",{className:"text-xs text-white/40",children:["+",S.length-2," more"]})]})]},v)})},p))})]})}const bS=()=>{const{user:e}=ot(),[t,n]=_.useState(""),[r,s]=_.useState({}),i={cs2833:{tableName:"msd_uploads"},ee2024:{tableName:"ee2024_uploads"},ee2044:{tableName:"ee2044_uploads"},ee2054:{tableName:"ee2054_uploads"},ee3074:{tableName:"ee3074_uploads"},ma3014:{tableName:"ma3014_uploads"},ma3024:{tableName:"ma3024_uploads"},cs2023:{tableName:"cs2023_uploads"},ma2034:{tableName:"ma2034_uploads"}};_.useEffect(()=>{let g=!0;const p=async()=>{const v=await Promise.all(Object.entries(i).map(async([b,{tableName:S}])=>{const{data:k,error:E}=await z.from(S).select("uploaded_at").order("uploaded_at",{ascending:!1}).limit(1);return E||!k||k.length===0?[b,null]:[b,k[0].uploaded_at]}));g&&s(Object.fromEntries(v))},f=async()=>{try{const{data:v,error:b}=await z.from("events").select("*");if(b){console.debug("Supabase /events select failed",b),g&&u([]);return}const S=(v||[]).slice().sort((k,E)=>new Date(k.datetime).getTime()-new Date(E.datetime).getTime());g&&u(S)}catch(v){console.error("Failed to load events (Supabase)",v),g&&u([])}};return p(),f(),()=>{g=!1}},[e==null?void 0:e.token]);const o=_.useMemo(()=>Ml.map((g,p)=>({...g,_index:p})).sort((g,p)=>{const f=r[g.id],v=r[p.id];return f&&v?new Date(v).getTime()-new Date(f).getTime():f&&!v?-1:!f&&v?1:g._index-p._index}),[r]),a=_.useMemo(()=>{const g=t.trim().toLowerCase();return g?o.filter(p=>p.name.toLowerCase().includes(g)||p.code.toLowerCase().includes(g)||p.tag.toLowerCase().includes(g)):o},[o,t]),[l,u]=_.useState([]),[c,h]=_.useState(null),[m,y]=_.useState(!0),x=c?l.filter(g=>new Date(g.datetime).toDateString()===new Date(c).toDateString()):l,w=g=>{const p=new Date(g),f=new Date,v=p.toDateString()===f.toDateString(),b=p.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return v?`Today, ${b}`:p.toLocaleDateString([],{weekday:"short",day:"numeric",month:"short"})+`  ${b}`};return d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:`grid grid-cols-1 ${m?"lg:grid-cols-[1fr,320px]":"lg:grid-cols-1"} gap-6 items-start lg:items-stretch`,children:[d.jsxs("section",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("input",{className:"btn-secondary text-left w-full py-3 px-4 text-base rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue",placeholder:"Search modules by code, name, or tag",value:t,onChange:g=>n(g.target.value)})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.map(g=>d.jsx(Rr,{to:`/subjects/${g.id}`,children:d.jsxs(St,{className:"h-full subject-card transition-transform duration-150 active:scale-95 focus-within:scale-95",children:[d.jsx("div",{className:`subject-cover ${g.cover}`,children:d.jsx("span",{className:"subject-tag",children:g.tag})}),d.jsxs(pr,{children:[d.jsx("p",{className:"text-xs text-white/60",children:g.code}),d.jsx("h3",{className:"font-semibold text-base mt-1",children:g.name})]})]})},g.id)),a.length===0&&d.jsx("div",{className:"glass-card p-4 text-sm text-white/60 col-span-full",children:"No modules found."})]})]}),d.jsxs("aside",{className:"self-start",children:[m&&d.jsx("div",{className:"hidden lg:block",children:d.jsx("div",{className:"sticky top-24 h-[calc(100vh-6rem)] overflow-auto",children:d.jsxs(St,{className:"h-full flex flex-col",children:[d.jsxs(As,{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Upcoming events"}),d.jsx("div",{className:"text-xs text-white/60 mt-1",children:"Events & deadlines"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[e&&(e.role==="admin"||e.role==="super_admin")&&d.jsx(ir,{onAdd:g=>u(p=>[g,...p])}),c&&d.jsx("button",{className:"text-xs text-white/60 hover:underline",onClick:()=>h(null),children:"Clear filter"}),d.jsx("button",{className:"p-2 rounded-md hover:bg-white/5",title:"Close block drawer","aria-label":"Close events",onClick:()=>y(!1),children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white/80",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),d.jsxs(pr,{className:"space-y-2 overflow-auto",children:[x.length===0&&d.jsx("div",{className:"text-sm text-white/60",children:c?"No events for selected date.":"No upcoming events."}),x.map(g=>d.jsxs("div",{className:"flex items-start gap-3 py-3 border-b border-white/6 last:border-b-0",children:[d.jsx("div",{className:"w-28 text-xs text-white/60",children:w(g.datetime)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"font-semibold text-sm",children:g.title}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-white/70 capitalize",children:g.kind??"other"})]}),d.jsxs("div",{className:"text-xs text-white/60 mt-1 flex items-center gap-3",children:[d.jsx("span",{children:g.module}),g.mention_date&&d.jsxs("span",{className:"text-xs text-red-400",children:["Mention: ",new Date(g.mention_date).toLocaleDateString()]})]})]}),e&&(e.role==="admin"||e.role==="super_admin")&&d.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[d.jsx(ir,{initialEvent:{id:g.id,title:g.title,datetime:g.datetime,module:g.module??"",kind:g.kind==="assignment"||g.kind==="quiz"?g.kind:"other"},onUpdate:p=>u(f=>f.map(v=>v.id===p.id?p:v)),triggerClassName:"btn-ghost px-2 py-1 text-xs",triggerChildren:d.jsx("span",{children:"Edit"})}),d.jsx("button",{className:"btn-ghost px-2 py-1 text-xs",onClick:async()=>{if(confirm("Delete this event?"))try{const{error:p}=await z.from("events").delete().eq("id",g.id);if(p){alert("Failed to delete event"),console.error(p);return}u(f=>f.filter(v=>v.id!==g.id))}catch(p){alert("Failed to delete event"),console.error(p);return}},children:"Delete"})]})]},g.id)),d.jsxs("div",{className:"mt-4 border-t border-white/6 pt-4",children:[d.jsx("div",{className:"text-xs text-white/60 mb-2",children:"Month"}),d.jsx(lo,{compact:!0,events:l,selectedDate:c,onSelectDate:g=>h(g)})]})]})]})})}),m&&d.jsxs("div",{className:"lg:hidden fixed inset-0 z-40",children:[d.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>y(!1)}),d.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-80 p-4",children:d.jsxs(St,{className:"h-full flex flex-col",children:[d.jsxs(As,{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Upcoming events"}),d.jsx("div",{className:"text-xs text-white/60 mt-1",children:"Events & deadlines"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[e&&(e.role==="admin"||e.role==="super_admin")&&d.jsx(ir,{onAdd:g=>u(p=>[g,...p])}),c&&d.jsx("button",{className:"text-xs text-white/60 hover:underline",onClick:()=>h(null),children:"Clear filter"}),d.jsx("button",{className:"p-2 rounded-md hover:bg-white/5",title:"Close block drawer","aria-label":"Close events",onClick:()=>y(!1),children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white/80",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),d.jsxs(pr,{className:"space-y-2 overflow-auto",children:[x.length===0&&d.jsx("div",{className:"text-sm text-white/60",children:c?"No events for selected date.":"No upcoming events."}),x.map(g=>d.jsxs("div",{className:"flex items-start gap-3 py-3 border-b border-white/6 last:border-b-0",children:[d.jsx("div",{className:"w-28 text-xs text-white/60",children:w(g.datetime)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"font-semibold text-sm",children:g.title}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-white/70 capitalize",children:g.kind??"other"})]}),d.jsxs("div",{className:"text-xs text-white/60 mt-1 flex items-center gap-3",children:[d.jsx("span",{children:g.module}),g.mention_date&&d.jsxs("span",{className:"text-xs text-red-400",children:["Mention: ",new Date(g.mention_date).toLocaleDateString()]})]})]}),e&&(e.role==="admin"||e.role==="super_admin")&&d.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[d.jsx(ir,{initialEvent:{id:g.id,title:g.title,datetime:g.datetime,module:g.module??"",kind:g.kind==="assignment"||g.kind==="quiz"?g.kind:"other"},onUpdate:p=>u(f=>f.map(v=>v.id===p.id?p:v)),triggerClassName:"btn-ghost px-2 py-1 text-xs",triggerChildren:d.jsx("span",{children:"Edit"})}),d.jsx("button",{className:"btn-ghost px-2 py-1 text-xs",onClick:async()=>{if(confirm("Delete this event?"))try{const{error:p}=await z.from("events").delete().eq("id",g.id);if(p){alert("Failed to delete event"),console.error(p);return}u(f=>f.filter(v=>v.id!==g.id))}catch(p){alert("Failed to delete event"),console.error(p);return}},children:"Delete"})]})]},g.id)),d.jsxs("div",{className:"mt-4 border-t border-white/6 pt-4",children:[d.jsx("div",{className:"text-xs text-white/60 mb-2",children:"Month"}),d.jsx(lo,{compact:!0,events:l,selectedDate:c,onSelectDate:g=>h(g)})]})]})]})})]})]}),!m&&d.jsx("button",{className:"fixed right-4 top-[15%] z-50 flex items-center justify-center bg-violet-600 text-white p-3 rounded-l-full shadow-lg hover:bg-violet-500",onClick:()=>y(!0),title:"Open block drawer","aria-label":"Open block drawer",children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"inline-block",children:d.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})};var SS=Symbol.for("react.lazy"),uo=ho[" use ".trim().toString()];function kS(e){return typeof e=="object"&&e!==null&&"then"in e}function $m(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===SS&&"_payload"in e&&kS(e._payload)}function ES(e){const t=NS(e),n=_.forwardRef((r,s)=>{let{children:i,...o}=r;$m(i)&&typeof uo=="function"&&(i=uo(i._payload));const a=_.Children.toArray(i),l=a.find(TS);if(l){const u=l.props.children,c=a.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return d.jsx(t,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,c):null})}return d.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var CS=ES("Slot");function NS(e){const t=_.forwardRef((n,r)=>{let{children:s,...i}=n;if($m(s)&&typeof uo=="function"&&(s=uo(s._payload)),_.isValidElement(s)){const o=PS(s),a=RS(i,s.props);return s.type!==_.Fragment&&(a.ref=r?Lo(r,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jS=Symbol("radix.slottable");function TS(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jS}function RS(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function PS(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Xd=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zd=Kp,OS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Zd(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const c=n==null?void 0:n[u],h=i==null?void 0:i[u];if(c===null)return null;const m=Xd(c)||Xd(h);return s[u][m]}),a=n&&Object.entries(n).reduce((u,c)=>{let[h,m]=c;return m===void 0||(u[h]=m),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:h,className:m,...y}=c;return Object.entries(y).every(x=>{let[w,g]=x;return Array.isArray(g)?g.includes({...i,...a}[w]):{...i,...a}[w]===g})?[...u,h,m]:u},[]);return Zd(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},AS=OS("inline-flex items-center justify-center gap-2 rounded-xl text-sm font-medium transition-colors focus-visible:outline-none disabled:opacity-50",{variants:{variant:{default:"btn-primary",secondary:"btn-secondary",ghost:"bg-transparent hover:bg-white/10",info:"btn-info",warning:"btn-warning",danger:"btn-danger",download:"btn-download",back:"btn-back",video:"btn-video"},size:{default:"h-10 px-4",sm:"h-9 px-3",lg:"h-11 px-6"}},defaultVariants:{variant:"default",size:"default"}}),fe=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?CS:"button";return d.jsx(o,{className:Pt(AS({variant:t,size:n,className:e})),ref:i,...s})});fe.displayName="Button";const IS=()=>{const{user:e}=ot();return{user:e,hasRole:n=>e?n.includes(e.role):!1}},Um=({subjectId:e,sectionKey:t,onUploaded:n,mode:r="create",open:s,onOpenChange:i,initialWeekLabel:o="",initialVideoLink:a="",editingId:l,existingFileName:u,existingStoragePath:c})=>{const h=t==="kuppi",[m,y]=_.useState(""),[x,w]=_.useState(""),[g,p]=_.useState(null),[f,v]=_.useState(!1),[b,S]=_.useState(!1),[k,E]=_.useState(null),C=e==="cs2833"?{moduleName:"Modular Software Development",bucketName:"msd-module",tableName:"msd_uploads"}:e==="ee2024"?{moduleName:"Electrical Machines in Power Systems",bucketName:"ee2024-module",tableName:"ee2024_uploads"}:e==="ee2044"?{moduleName:"Electrical Measurements and Instrumentation",bucketName:"ee2044-module",tableName:"ee2044_uploads"}:e==="ee2054"?{moduleName:"Control Systems",bucketName:"ee2054-module",tableName:"ee2054_uploads"}:e==="ee3074"?{moduleName:"Electrical Installations",bucketName:"ee3074-module",tableName:"ee3074_uploads"}:e==="ma3014"?{moduleName:"Applied Statistics",bucketName:"ma3014-module",tableName:"ma3014_uploads"}:e==="ma3024"?{moduleName:"Numerical Methods",bucketName:"ma3024-module",tableName:"ma3024_uploads"}:e==="cs2023"?{moduleName:"Data Structures and Algorithms",bucketName:"cs2023-module",tableName:"cs2023_uploads"}:e==="ma2034"?{moduleName:"Linear Algebra",bucketName:"ma2034-module",tableName:"ma2034_uploads"}:null,P={lecture_notes:"Lecture Notes",lab_sheets:"Lab Sheets",tutorials:"Tutorials",kuppi:"Kuppi Videos & Notes",short_notes:"Short Notes"},j=r==="edit",W=s!==void 0,M=W?s:b,xe=W?i:S;_.useEffect(()=>{j&&(y(o??""),w(a??""))},[j,o,a,s]);const ie=async()=>{if(C&&!(!g&&!x&&!j)){v(!0);try{let de="";const{moduleName:me,bucketName:Ce,tableName:T}=C;let A=c??"";if(g){const U=g.name.replace(/\s+/g,"-");de=`${t}/${Date.now()}-${U}`;const{error:re}=await z.storage.from(Ce).upload(de,g,{upsert:!0});if(re)throw re;if(c){const{error:At}=await z.storage.from(Ce).remove([c]);if(At&&At.message!=="Object not found")throw At}A=de}const D={module_name:me,section_name:P[t]??t,subsection_name:(g==null?void 0:g.name)??(j?u??"":"Kuppi Video"),week_label:m||null,bucket_name:Ce,file_path:j?A:de,video_link:x||null};if(j&&l){const{error:U}=await z.from(T).update({...D,uploaded_at:new Date().toISOString()}).eq("id",l);if(U)throw U}else{const{error:U}=await z.from(T).insert(D);if(U)throw U}y(""),w(""),p(null),E(null),n==null||n(),xe&&xe(!1)}finally{v(!1)}}};return d.jsxs(Am,{open:M,onOpenChange:xe,children:[r==="create"&&d.jsx(Im,{asChild:!0,children:d.jsx(fe,{variant:"default",children:"Upload"})}),d.jsxs(qu,{children:[d.jsxs(Dm,{children:[d.jsx(Hu,{children:j?"Edit Material":"Upload Material"}),d.jsxs(Ku,{children:["Admin uploads are stored with RLS-ready metadata for subject ",e,"."]})]}),d.jsxs("form",{className:"grid gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-blue-50/10 rounded p-2 mb-1",children:[d.jsx("span",{role:"img","aria-label":"Share",children:""}),d.jsxs("span",{className:"text-xs text-blue-300",children:["Tip: On mobile, use ",d.jsx("b",{children:"Share note"})," in Samsung Notes and select your browser to upload directlyno need to save the file locally!"]})]}),d.jsx("input",{className:"btn-secondary text-left",placeholder:"Title",value:m,onChange:de=>y(de.target.value)}),h&&d.jsx("input",{className:"btn-secondary text-left",placeholder:"Kuppi video link (optional)",value:x,onChange:de=>w(de.target.value)}),j&&u&&d.jsxs("div",{className:"text-xs text-white/60",children:["Current file: ",u]}),d.jsx("input",{type:"file",className:"btn-secondary text-left",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt,.csv,.zip,.rar,.7z,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/plain,text/csv,application/zip,application/x-zip-compressed,application/x-rar-compressed,application/x-7z-compressed",onChange:de=>{var Ce;const me=((Ce=de.target.files)==null?void 0:Ce[0])??null;if(me&&me.size>30*1024*1024){p(null),E("File size must be 30 MB or smaller.");return}E(null),p(me)}}),d.jsx("div",{className:"text-xs text-white/60",children:"Recommended: PDF. Other documents are also accepted."}),k&&d.jsx("div",{className:"text-xs text-rose-200",children:k}),d.jsx("input",{type:"hidden",value:t}),d.jsx(fe,{type:"button",onClick:ie,disabled:f,children:f?"Saving...":"Save Upload"})]})]})]})};async function LS(e,t){try{const n=await fetch(e);if(!n.ok)throw new Error("Network response was not ok");const r=await n.blob(),s=document.createElement("a");s.href=URL.createObjectURL(r),t&&(s.download=t),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch{alert("Failed to download file.")}}const DS=({title:e,items:t,subjectId:n,sectionKey:r,onEdit:s,onDelete:i,onReload:o})=>{const{hasRole:a}=IS(),l=a(["admin","super_admin"]),[u,c]=_.useState(null);return d.jsxs("section",{className:"glass-card p-4 sm:p-6 w-full",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"section-title",children:e}),d.jsx("p",{className:"text-sm text-white/60",children:"Resources listed in order."})]}),l&&d.jsx(Um,{subjectId:n,sectionKey:r,onUploaded:o})]}),d.jsx("div",{className:"mt-4",children:t.length===0?d.jsxs("div",{className:"text-sm text-white/60",children:["No materials yet. ",l?"Upload the first resource.":""]}):d.jsx("div",{className:"divide-y divide-white/10",children:t.map(h=>d.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-2 sm:gap-3 py-3",children:[d.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/10 text-neon-blue","aria-label":"Book",children:""}),d.jsxs("div",{className:"flex-1 min-w-0",children:[h.title?d.jsx("h4",{className:"font-medium",children:h.title}):null,h.description?d.jsx("p",{className:"text-sm text-white/60",children:h.description}):null,d.jsxs("p",{className:"text-xs text-white/40",children:["Last update ",h.uploadedAt]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 sm:mt-0",children:[h.storagePath||h.linkUrl?d.jsx(fe,{asChild:!0,variant:"info",size:"sm",children:d.jsx("a",{href:h.linkUrl||`/uploads/${h.storagePath}`,target:"_blank",rel:"noreferrer",children:"View"})}):d.jsx(fe,{variant:"info",size:"sm",disabled:!0,children:"View"}),h.storagePath||h.linkUrl?d.jsx(fe,{variant:"download",size:"sm",disabled:u===h.id,onClick:async()=>{c(h.id),await LS(h.linkUrl||`/uploads/${h.storagePath}`,h.fileName),c(null)},children:u===h.id?"Downloading...":"Download"}):d.jsx(fe,{variant:"download",size:"sm",disabled:!0,children:"Download"}),r==="kuppi"&&h.videoLink?d.jsx(fe,{asChild:!0,variant:"video",size:"sm",children:d.jsx("a",{href:h.videoLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Open video in new tab",children:"Video"})}):null,l&&d.jsxs(d.Fragment,{children:[d.jsx(fe,{variant:"warning",size:"sm",onClick:()=>s==null?void 0:s(h,r),children:"Edit"}),d.jsx(fe,{variant:"danger",size:"sm",onClick:()=>i==null?void 0:i(h,r),children:"Delete"})]})]})]},h.id))})}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx(fe,{asChild:!0,variant:"back",className:"w-full sm:w-auto",children:d.jsx(Rr,{to:"/",children:"Back to Dashboard"})})})]})},$S=[{id:"lec-1",title:"Lecture Note 01",description:"Core definitions and overview.",fileName:"lecture-01.pdf",uploadedAt:"2 days ago"},{id:"lec-2",title:"Lecture Note 02",description:"Worked examples and key formulas.",fileName:"lecture-02.pdf",uploadedAt:"5 days ago"}],US=[{id:"lab-1",title:"Lab Sheet 01",description:"Measurements and instrumentation tasks.",fileName:"lab-01.pdf",uploadedAt:"1 week ago"}],MS=[{id:"tut-1",title:"Tutorial 01 + Answers",description:"Solved problems and steps.",fileName:"tutorial-01.pdf",uploadedAt:"3 days ago"}],zS=[{id:"kuppi-1",title:"Kuppi Session 01 (Video Link)",description:"Recorded kuppi discussion and notes.",fileName:"kuppi-01.pdf",linkUrl:"https://example.com/kuppi-session-01",uploadedAt:"4 days ago"}],FS=[{id:"short-1",title:"Quick Revision Notes",description:"Concise summary for exams.",fileName:"short-notes.pdf",uploadedAt:"6 days ago"}],BS={cs2833:{name:"Modular Software Development",code:"CS2833"},ee2024:{name:"Electrical Machines in Power Systems",code:"EE2024"},ee2044:{name:"Electrical Measurements and Instrumentation",code:"EE2044"},ee2054:{name:"Control Systems",code:"EE2054"},ee3074:{name:"Electrical Installations",code:"EE3074"},ma3014:{name:"Applied Statistics",code:"MA3014"},ma3024:{name:"Numerical Methods",code:"MA3024"},cs2023:{name:"Data Structures and Algorithms",code:"CS2023"},ma2034:{name:"Linear Algebra",code:"MA2034"}},WS=()=>{const{subjectId:e}=By(),t=e?BS[e]:void 0,[n,r]=_.useState("lecture_notes"),[s,i]=_.useState(!1),{user:o,requestAdmin:a}=ot(),[l,u]=_.useState("idle"),[c,h]=_.useState({}),[m,y]=_.useState(!1),[x,w]=_.useState(!1),[g,p]=_.useState(null),[f,v]=_.useState("lecture_notes"),b=e==="cs2833"?{moduleName:"Modular Software Development",bucketName:"msd-module",tableName:"msd_uploads"}:e==="ee2024"?{moduleName:"Electrical Machines in Power Systems",bucketName:"ee2024-module",tableName:"ee2024_uploads"}:e==="ee2044"?{moduleName:"Electrical Measurements and Instrumentation",bucketName:"ee2044-module",tableName:"ee2044_uploads"}:e==="ee2054"?{moduleName:"Control Systems",bucketName:"ee2054-module",tableName:"ee2054_uploads"}:e==="ee3074"?{moduleName:"Electrical Installations",bucketName:"ee3074-module",tableName:"ee3074_uploads"}:e==="ma3014"?{moduleName:"Applied Statistics",bucketName:"ma3014-module",tableName:"ma3014_uploads"}:e==="ma3024"?{moduleName:"Numerical Methods",bucketName:"ma3024-module",tableName:"ma3024_uploads"}:e==="cs2023"?{moduleName:"Data Structures and Algorithms",bucketName:"cs2023-module",tableName:"cs2023_uploads"}:e==="ma2034"?{moduleName:"Linear Algebra",bucketName:"ma2034-module",tableName:"ma2034_uploads"}:null,S=async()=>{if(!b)return;y(!0);const{data:j,error:W}=await z.from(b.tableName).select("id, section_name, subsection_name, week_label, file_path, video_link, uploaded_at").eq("module_name",b.moduleName).order("uploaded_at",{ascending:!1});if(!W&&j){const M={"Lecture Notes":"lecture_notes","Lab Sheets":"lab_sheets",Tutorials:"tutorials","Tutorials / Past Papers + Answers":"tutorials","Kuppi Videos & Notes":"kuppi","Short Notes":"short_notes"},xe={};for(const ie of j){const de=M[ie.section_name]??"lecture_notes",me=xe[de]??[],Ce=ie.file_path?z.storage.from(b.bucketName).getPublicUrl(ie.file_path).data.publicUrl:"";me.push({id:ie.id,title:"",description:ie.week_label??"",fileName:ie.file_path,uploadedAt:new Date(ie.uploaded_at).toLocaleDateString(),linkUrl:ie.video_link??Ce,storagePath:ie.file_path,videoLink:ie.video_link??void 0}),xe[de]=me}h(xe)}y(!1)};_.useEffect(()=>{S()},[e]);const k=async j=>{b&&(await z.from(b.tableName).delete().eq("id",j.id),j.storagePath&&await z.storage.from(b.bucketName).remove([j.storagePath]),S())},E=async(j,W)=>{b&&(p(j),v(W),w(!0))},C=[{key:"lecture_notes",label:"Lecture Notes",items:b?c.lecture_notes??[]:$S},{key:"lab_sheets",label:"Lab Sheets",items:b?c.lab_sheets??[]:US},{key:"tutorials",label:"Tutorials / Past Papers + Answers",items:b?c.tutorials??[]:MS},{key:"kuppi",label:"Kuppi Videos & Notes",items:b?c.kuppi??[]:zS},{key:"short_notes",label:"Short Notes",items:b?c.short_notes??[]:FS}],P=C.find(j=>j.key===n);return d.jsx("div",{className:"space-y-6 px-2 sm:px-0",children:d.jsxs("div",{className:"subject-full",children:[s&&d.jsx("button",{type:"button","aria-label":"Close sidebar",className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[180px_1fr] gap-4 subject-shell",children:[d.jsxs("aside",{className:`glass-card p-3 sm:p-4 subject-scroll mobile-sidebar ${s?"mobile-sidebar-open":""} w-full lg:max-w-xs lg:mx-0`,children:[d.jsx("h2",{className:"section-title mb-4",children:"Sections"}),d.jsx("div",{className:"flex flex-col gap-2 text-sm",children:C.map(j=>d.jsx("button",{type:"button",onClick:()=>{r(j.key),window.innerWidth<1024&&i(!1)},className:n===j.key?"px-3 py-2 rounded-lg bg-white/15 text-white text-left":"px-3 py-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10 text-left",children:j.label},j.key))})]}),d.jsxs("div",{className:"space-y-4 subject-scroll w-full",children:[d.jsxs("div",{className:"glass-card p-4 flex items-center justify-between gap-4",children:[d.jsx("button",{type:"button",className:"btn-secondary lg:hidden",onClick:()=>i(!0),children:""}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-semibold",children:[(t==null?void 0:t.code)??e," - ",(t==null?void 0:t.name)??"Module"]}),o&&d.jsxs("p",{className:"text-xs text-white/60",children:["Role: ",o.role.replace("_"," ")]})]}),(o==null?void 0:o.role)==="member"&&d.jsx(fe,{variant:"secondary",onClick:async()=>{try{await a(),u("sent")}catch{u("error")}},children:"Request Admin Access"})]}),l==="sent"&&d.jsx("div",{className:"glass-card p-3 text-sm text-green-200",children:"Request sent to Super Admin."}),l==="error"&&d.jsx("div",{className:"glass-card p-3 text-sm text-rose-200",children:"Request failed. Please try again."}),d.jsx(DS,{title:(P==null?void 0:P.label)??"Section",items:(P==null?void 0:P.items)??[],subjectId:e??"unknown",sectionKey:(P==null?void 0:P.key)??"unknown",onReload:b?S:void 0,onEdit:b?E:void 0,onDelete:b?k:void 0}),b&&g&&d.jsx(Um,{subjectId:e??"unknown",sectionKey:f,mode:"edit",open:x,onOpenChange:j=>{j||p(null),w(j)},initialWeekLabel:g.description,initialVideoLink:g.videoLink,editingId:g.id,existingFileName:g.fileName,existingStoragePath:g.storagePath,onUploaded:S})]})]})]})})},VS=()=>{const{user:e,login:t,register:n}=ot(),r=Ro(),[s,i]=_.useState(""),[o,a]=_.useState(""),[l,u]=_.useState(!1),[c,h]=_.useState(""),[m,y]=_.useState(""),[x,w]=_.useState(""),[g,p]=_.useState(!1),[f,v]=_.useState(!1),[b,S]=_.useState(null),k=async C=>{C.preventDefault(),S(null);try{await t(s,o),r("/")}catch(P){const j=P instanceof Error?P.message:"Login failed";S(j)}},E=async C=>{C.preventDefault(),S(null);try{await n(c,m,x),u(!1),S("Account created. Please sign in.")}catch(P){const j=P instanceof Error?P.message:"Registration failed";S(j)}};return _.useEffect(()=>{e&&r("/")},[e,r]),d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs(St,{className:"p-8 w-full max-w-md",children:[b&&d.jsx("div",{className:"mt-2 text-sm text-pink-200",children:b}),l?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Create Account"}),d.jsx("p",{className:"text-white/70",children:"Register to access EE_Tamils LMS."}),d.jsxs("form",{className:"mt-4 grid gap-3",onSubmit:E,children:[d.jsx("input",{className:"btn-secondary text-left",placeholder:"Full name",value:c,onChange:C=>h(C.target.value)}),d.jsx("input",{className:"btn-secondary text-left",placeholder:"Email",value:m,onChange:C=>y(C.target.value)}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{className:"btn-secondary text-left w-full pr-10",placeholder:"Password",type:f?"text":"password",value:x,onChange:C=>w(C.target.value)}),d.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/80",onClick:()=>v(C=>!C),"aria-label":f?"Hide password":"Show password",children:f?"":""})]}),d.jsx(fe,{type:"submit",variant:"secondary",children:"Create Account"})]}),d.jsx("div",{className:"mt-6 border-t border-white/10 pt-4",children:d.jsxs("p",{className:"text-white/70 text-sm",children:["Already have an account?"," ",d.jsx("button",{type:"button",className:"text-neon-blue",onClick:()=>u(!1),children:"Sign in"})]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Sign In"}),d.jsx("p",{className:"text-white/70",children:"Access EE_Tamils LMS resources."}),d.jsxs("form",{className:"mt-4 grid gap-3",onSubmit:k,children:[d.jsx("input",{className:"btn-secondary text-left",placeholder:"Email",value:s,onChange:C=>i(C.target.value)}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{className:"btn-secondary text-left w-full pr-10",placeholder:"Password",type:g?"text":"password",value:o,onChange:C=>a(C.target.value)}),d.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/80",onClick:()=>p(C=>!C),"aria-label":g?"Hide password":"Show password",children:g?"":""})]}),d.jsx(fe,{type:"submit",children:"Login"})]}),d.jsx("div",{className:"mt-6 border-t border-white/10 pt-4",children:d.jsxs("p",{className:"text-white/70 text-sm",children:["Dont have an account?"," ",d.jsx("button",{type:"button",className:"text-neon-blue",onClick:()=>u(!0),children:"Create new one"})]})})]})]})})},qS=()=>d.jsxs("div",{className:"glass-card p-10 text-center",children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Access Restricted"}),d.jsx("p",{className:"text-white/70 mt-2",children:"You do not have permission to view this page. Please contact the Super Admin."}),d.jsx("div",{className:"mt-4",children:d.jsx(Rr,{to:"/",children:d.jsx(fe,{children:"Return to Dashboard"})})})]}),eh="http://localhost:4000",zl={async get(e,t){return(await fetch(`${eh}${e}`,{headers:t?{Authorization:`Bearer ${t}`}:void 0})).json()},async post(e,t,n){return(await fetch(`${eh}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:JSON.stringify(t)})).json()}},HS=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(null),{user:l}=ot();_.useEffect(()=>{zl.get("/api/users",l==null?void 0:l.apiToken).then(t).catch(()=>i("Failed to load users.")).finally(()=>r(!1))},[l==null?void 0:l.apiToken]);const u=async(c,h)=>{a(c);try{await zl.post(`/api/users/${c}/role`,{role:h},l==null?void 0:l.apiToken),t(m=>m.map(y=>y.id===c?{...y,role:h}:y))}catch{alert("Failed to update role.")}finally{a(null)}};return d.jsxs("section",{className:"glass-card p-6 mt-6",children:[d.jsx("h2",{className:"section-title mb-4",children:"Role Management"}),n?d.jsx("div",{className:"text-white/60",children:"Loading users..."}):s?d.jsx("div",{className:"text-red-400",children:s}):d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-left text-white/70",children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Role"}),d.jsx("th",{children:"Change Role"})]})}),d.jsx("tbody",{children:e.map(c=>d.jsxs("tr",{className:"border-t border-white/10",children:[d.jsx("td",{children:c.full_name}),d.jsx("td",{children:c.email}),d.jsx("td",{className:"capitalize",children:c.role.replace("_"," ")}),d.jsx("td",{children:d.jsxs("select",{value:c.role,disabled:o===c.id,onChange:h=>u(c.id,h.target.value),className:"bg-white/10 text-white rounded px-2 py-1",children:[d.jsx("option",{value:"member",children:"Member"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"super_admin",children:"Super Admin"})]})})]},c.id))})]})]})},KS=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),{user:o}=ot();return _.useEffect(()=>{zl.get("/api/activity/latest",o==null?void 0:o.apiToken).then(t).catch(()=>i("Failed to load activity log.")).finally(()=>r(!1))},[o==null?void 0:o.apiToken]),d.jsxs("div",{className:"p-2 sm:p-6 max-w-3xl mx-auto",children:[d.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Admin Activity Log"}),n?d.jsx("div",{className:"text-center text-gray-400",children:"Loading..."}):s?d.jsx("div",{className:"text-center text-red-400",children:s}):e.length===0?d.jsx("div",{className:"text-center text-gray-400",children:"No recent activity."}):d.jsx("div",{className:"space-y-3",children:e.map(a=>d.jsxs("div",{className:"rounded-lg bg-white/10 p-3 flex flex-col sm:flex-row sm:items-center gap-2 shadow-sm",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-semibold capitalize text-neon-blue",children:a.type}),d.jsx("span",{className:"text-xs text-gray-400 truncate",children:a.timestamp&&new Date(a.timestamp).toLocaleString()})]}),d.jsxs("div",{className:"text-sm text-white/90 truncate",children:[a.title||a.section_key," ",a.week_label&&`- ${a.week_label}`]}),a.description&&d.jsx("div",{className:"text-xs text-white/60 truncate",children:a.description}),d.jsxs("div",{className:"text-xs text-white/40 truncate",children:["By: ",a.full_name," (",a.email,")"]})]}),d.jsx("div",{className:"flex flex-row gap-2 justify-end sm:justify-center",children:a.file_url&&d.jsx("a",{href:a.file_url,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary px-2 py-1 text-xs",children:"View File"})})]},a.id))}),d.jsx("div",{className:"mt-6",children:d.jsx(HS,{})})]})},GS=()=>{const{user:e}=ot(),[t,n]=_.useState([]),[r,s]=_.useState([]),[i,o]=_.useState(!0);_.useEffect(()=>{(async()=>{o(!0);const{data:m,error:y}=await z.from("admin_requests").select("id, status, created_at, user_id").eq("status","pending").order("created_at",{ascending:!1});if(!y&&m){const g=m,p=g.map(b=>b.user_id),{data:f}=p.length?await z.from("profiles").select("id, full_name, email").in("id",p):{data:[]},v=new Map((f??[]).map(b=>[b.id,b]));n(g.map(b=>{const S=v.get(b.user_id);return{id:b.id,status:b.status,createdAt:b.created_at,userId:b.user_id,name:(S==null?void 0:S.full_name)??"Member",email:(S==null?void 0:S.email)??""}}))}const{data:x,error:w}=await z.from("profiles").select("id, full_name, email, role, created_at").eq("role","admin").order("created_at",{ascending:!1});!w&&x&&s(x.map(g=>({id:g.id,status:"approved",createdAt:g.created_at,userId:g.id,name:g.full_name??"Admin",email:g.email??""}))),o(!1)})()},[]);const a=async(h,m)=>{await z.from("admin_requests").update({status:"approved"}).eq("id",h),await z.from("profiles").update({role:"admin"}).eq("id",m),n(y=>y.filter(x=>x.id!==h))},l=async h=>{await z.from("admin_requests").update({status:"rejected"}).eq("id",h),n(m=>m.filter(y=>y.id!==h))},u=async h=>{await z.from("profiles").update({role:"member"}).eq("id",h),s(m=>m.filter(y=>y.userId!==h))},c=_.useMemo(()=>(e==null?void 0:e.role)==="super_admin",[e]);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"glass-card p-4",children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Access Requests"}),d.jsx("p",{className:"text-white/70",children:"Super Admin approves or rejects role upgrades."})]}),d.jsx(St,{className:"p-6",children:d.jsx("div",{className:"divide-y divide-white/10",children:i?d.jsx("div",{className:"py-6 text-sm text-white/60",children:"Loading requests..."}):t.length===0?d.jsx("div",{className:"py-6 text-sm text-white/60",children:"No requests yet."}):t.map(h=>d.jsxs("div",{className:"flex items-start gap-3 py-3",children:[d.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/10 text-neon-blue",children:""}),d.jsx("div",{className:"flex-1",children:d.jsx("h3",{className:"font-medium",children:h.name})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(fe,{variant:"secondary",size:"sm",disabled:!c,onClick:()=>l(h.id),children:"Reject"}),d.jsx(fe,{size:"sm",disabled:!c,onClick:()=>a(h.id,h.userId),children:"Approve"})]})]},h.id))})}),d.jsxs(St,{className:"p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Current Admins"}),d.jsx("div",{className:"divide-y divide-white/10",children:i?d.jsx("div",{className:"py-6 text-sm text-white/60",children:"Loading admins..."}):r.length===0?d.jsx("div",{className:"py-6 text-sm text-white/60",children:"No admins found."}):r.map(h=>d.jsxs("div",{className:"flex items-start gap-3 py-3",children:[d.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/10 text-neon-blue",children:""}),d.jsx("div",{className:"flex-1",children:d.jsx("h3",{className:"font-medium",children:h.name})}),d.jsx("div",{className:"flex gap-2",children:d.jsx(fe,{variant:"secondary",size:"sm",disabled:!c,onClick:()=>u(h.userId),children:"Remove Admin"})})]},h.userId))})]})]})},JS=()=>{const e=Ro(),{user:t}=ot(),[n,r]=_.useState([]),[s,i]=_.useState(null),[o,a]=_.useState(!1),[l,u]=_.useState(null);_.useEffect(()=>{(async()=>{a(!1);try{const{data:p,error:f}=await z.from("events").select("*");if(f)throw f;const v=(p||[]).slice().sort((b,S)=>new Date(b.datetime).getTime()-new Date(S.datetime).getTime());r(v)}catch(p){console.error("Failed to load events (Supabase)",p);try{const{data:f,error:v}=await z.from("events").select("*");if(!v&&f){const b=f.slice().sort((S,k)=>new Date(S.datetime).getTime()-new Date(k.datetime).getTime());r(b)}else v&&console.debug("Supabase fallback error:",v)}catch(f){console.debug("Supabase fallback failed:",f)}}finally{a(!0)}})();const w=async()=>{try{const p=await fetch("/api/internal/cleanup-status");if(!p.ok)return;const f=await p.json();u(f)}catch{}};w();const g=setInterval(w,6e4);return()=>{clearInterval(g)}},[]),_.useEffect(()=>{const x=z.channel("public:events").on("postgres_changes",{event:"*",schema:"public",table:"events"},w=>{try{const g=w.eventType??w.type??w.event,p=w.new??w.record??null,f=w.old??null;if(!p&&!f)return;r(v=>{const b=(v||[]).slice();if(g==="INSERT")b.some(S=>S.id===p.id)||b.push(p);else if(g==="UPDATE"){const S=b.findIndex(k=>k.id===p.id);S!==-1?b[S]=p:b.push(p)}else if(g==="DELETE")return b.filter(S=>S.id!==((f==null?void 0:f.id)??(p==null?void 0:p.id)));return b.sort((S,k)=>new Date(S.datetime).getTime()-new Date(k.datetime).getTime())})}catch(g){console.debug("Realtime handler error",g)}}).subscribe();return()=>{try{z.removeChannel(x)}catch(w){console.debug("Failed to remove realtime channel",w)}}},[]);const c=x=>{const w=new Date(x),g=new Date,p=w.toDateString()===g.toDateString(),f=w.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return p?`Today, ${f}`:w.toLocaleDateString([],{weekday:"short",day:"numeric",month:"short"})+`  ${f}`},h=x=>x.slice().sort((w,g)=>new Date(w.datetime).getTime()-new Date(g.datetime).getTime()),m=h(n),y=s?h(m.filter(x=>new Date(x.datetime).toDateString()===new Date(s).toDateString())):m;return d.jsxs("div",{className:"min-h-[calc(100vh-6rem)] py-6 px-4 lg:px-8",children:[d.jsx("div",{className:"flex justify-center lg:justify-end",children:d.jsx("div",{className:"w-full lg:w-[320px]",children:d.jsxs(St,{className:"h-full flex flex-col",children:[d.jsxs(As,{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Upcoming events"}),d.jsx("div",{className:"text-xs text-white/60 mt-1",children:s?`Events for ${new Date(s).toLocaleDateString()}`:"Events & deadlines"}),d.jsxs("div",{className:"text-2xs text-white/40 mt-1",children:["Last cleanup: ",l!=null&&l.lastRun?new Date(l.lastRun).toLocaleString():"n/a",(l==null?void 0:l.lastRemoved)!=null?`  removed ${l.lastRemoved}`:""]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[t&&(t.role==="admin"||t.role==="super_admin")&&d.jsx(ir,{onAdd:x=>r(w=>(w||[]).concat(x).slice().sort((p,f)=>new Date(p.datetime).getTime()-new Date(f.datetime).getTime()))}),t&&(t.role==="admin"||t.role==="super_admin")&&d.jsx("button",{className:"text-2xs text-white/60 hover:underline ml-2",onClick:async()=>{try{const x=await fetch("/api/internal/run-cleanup",{method:"POST"});if(!x.ok)throw new Error("cleanup failed");const w=await x.json();u(w.status??null);const{data:g,error:p}=await z.from("events").select("*");if(!p&&g){const f=g.slice().sort((v,b)=>new Date(v.datetime).getTime()-new Date(b.datetime).getTime());r(f)}alert("Cleanup executed  check status line")}catch(x){console.error(x),alert("Failed to run cleanup")}},title:"Run cleanup now",children:"Run cleanup"}),d.jsx(Rr,{to:"/",className:"text-xs text-white/60 hover:underline",children:"Back to dashboard"}),s&&d.jsx("button",{className:"text-xs text-white/60 hover:underline ml-2",onClick:()=>i(null),children:"Clear filter"}),d.jsx("button",{className:"p-2 rounded-md hover:bg-white/5","aria-label":"Close calendar",onClick:()=>e(-1),title:"Close",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white/80",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),d.jsxs(pr,{className:"space-y-2 overflow-auto",children:[o?y.length===0?d.jsx("div",{className:"text-sm text-white/60",children:"No upcoming events."}):null:d.jsx("div",{className:"text-sm text-white/60",children:"Loading events"}),y.map(x=>d.jsxs("div",{className:"flex items-start gap-3 py-3 border-b border-white/6 last:border-b-0",children:[d.jsx("div",{className:"w-28 text-xs text-white/60",children:c(x.datetime)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"font-semibold text-sm",children:x.title}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-white/70 capitalize",children:x.kind??"other"})]}),d.jsxs("div",{className:"text-xs text-white/60 mt-1 flex items-center gap-3",children:[d.jsx("span",{children:x.module}),x.mention_date&&d.jsxs("span",{className:"text-xs text-red-400",children:["Mention: ",new Date(x.mention_date).toLocaleDateString()]})]})]}),t&&(t.role==="admin"||t.role==="super_admin")&&d.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[d.jsx(ir,{initialEvent:{id:x.id,title:x.title,datetime:x.datetime,module:x.module??"",kind:x.kind==="assignment"||x.kind==="quiz"?x.kind:"other"},onUpdate:w=>r(g=>(g||[]).map(f=>f.id===w.id?w:f).slice().sort((f,v)=>new Date(f.datetime).getTime()-new Date(v.datetime).getTime())),triggerClassName:"btn-ghost px-2 py-1 text-xs",triggerChildren:d.jsx("span",{children:"Edit"})}),d.jsx("button",{className:"btn-ghost px-2 py-1 text-xs",onClick:async()=>{if(confirm("Delete this event?"))try{const{error:w}=await z.from("events").delete().eq("id",x.id);if(w)throw w;r(g=>g.filter(p=>p.id!==x.id))}catch(w){alert("Failed to delete event"),console.error(w)}},children:"Delete"})]})]},x.id)),o&&d.jsxs("div",{className:"mt-4 border-t border-white/6 pt-4",children:[d.jsx("div",{className:"text-xs text-white/60 mb-2",children:"Month"}),d.jsx(lo,{compact:!0,events:m,selectedDate:s,onSelectDate:x=>i(x)})]})]})]})})}),d.jsx("div",{className:"mt-6 flex justify-center lg:justify-end",children:d.jsx("div",{className:"w-full lg:w-[640px]",children:d.jsxs(St,{children:[d.jsx(As,{children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Month calendar"}),d.jsx("div",{className:"text-xs text-white/60 mt-1",children:"Click a date to filter events below"})]})}),d.jsx(pr,{children:d.jsx(lo,{events:m,selectedDate:s,onSelectDate:x=>i(x)})})]})})})]})},QS=({allowedRoles:e,children:t})=>{const{user:n}=ot();return n?e.includes(n.role)?t:d.jsx(ud,{to:"/access-denied",replace:!0}):d.jsx(ud,{to:"/login",replace:!0})},YS=()=>d.jsx("div",{className:"app-gradient min-h-screen",children:d.jsxs(sw,{children:[d.jsxs(ut,{element:d.jsx(Z_,{}),children:[d.jsx(ut,{index:!0,element:d.jsx(bS,{})}),d.jsx(ut,{path:"login",element:d.jsx(VS,{})}),d.jsx(ut,{path:"subjects/:subjectId",element:d.jsx(WS,{})}),d.jsx(ut,{path:"calendar",element:d.jsx(JS,{})}),d.jsx(ut,{path:"access-denied",element:d.jsx(qS,{})})]}),d.jsxs(ut,{path:"/admin",element:d.jsx(QS,{allowedRoles:["admin","super_admin"],children:d.jsx(ex,{})}),children:[d.jsx(ut,{index:!0,element:d.jsx(KS,{})}),d.jsx(ut,{path:"requests",element:d.jsx(GS,{})})]})]})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/EE_24/service-worker.js").catch(t=>{console.warn("ServiceWorker registration failed:",t)})});Ta.createRoot(document.getElementById("root")).render(d.jsx(hh.StrictMode,{children:d.jsx(hw,{basename:"EE_24",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:d.jsx(Y_,{children:d.jsx(YS,{})})})}));
